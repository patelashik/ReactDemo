(this["webpackJsonpcsn-291"]=this["webpackJsonpcsn-291"]||[]).push([[0],{18:function(e,n,t){e.exports=t.p+"static/media/navlogo.7ee134c2.png"},30:function(e,n,t){},35:function(e,n,t){e.exports=t(51)},51:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(13),l=t.n(o),i=t(3),c=(t(40),t(2)),s=t(4);function u(){var e=Object(s.a)(["\n\thtml {\n\t\tfont-size: 16px;\n\t\tbox-sizing: border-box;\n\t}\n\t*, *:before, *:after {\n\t\tpadding: 0;\n\t\tmargin: 0;\n\t\tbox-sizing: inherit;\n\t}\n\t.footer{\n\t\tcolor: ",";\n\t\tbackground: ",";\n\t\tpadding: 7px 3px;\n\t}\n\ttextarea{\n\t\tcolor: ",";\n\t\tbackground: ",";\t\t\n\t\t\t\n\t}\n\t.newpost-header textarea{\n\t\theight:50px !important;\n\t\tposition:absolute;\n\t\tbottom:0px;\n\t}\n\t.modal-content:first-child{\n\t\tborder:1px solid "," !important;\n\t}\n\tbody {\n\t\tfont-family: 'Fira Sans', sans-serif;\n\t\tfont-size: 1rem;\n\t\tline-height: 1.7;\n\t\tbackground: ",";\n\t\tcolor: ",";\n\t\toverflow-x: hidden;\n\t}\n\th1, h2, h3, h4, h5, h6 {\n\t\tfont-weight: normal;\n\t}\n\ta {\n\t\ttext-decoration: none;\n\t\tcursor: pointer;\n\t\tcolor: inherit;\n\t}\n\t.pointer {\n\t\tcursor: pointer;\n\t}\n\t.secondary {\n\t\tcolor: ",";\n\t}\n\t.danger {\n\t\tcolor: ",";\n\t}\n\tbutton, svg {\n\t  cursor: pointer;\n\t}\n\t.bold {\n\t\tfont-weight: 500;\n\t}\n\t*:focus {\n\t  outline: none;\n\t}\n"]);return u=function(){return e},e}var m=Object(c.c)(u(),(function(e){return e.theme.primaryColor}),(function(e){return e.theme.footerColor}),(function(e){return e.theme.primaryColor}),(function(e){return e.theme.bg}),(function(e){return e.theme.primaryColor}),(function(e){return e.theme.bg}),(function(e){return e.theme.primaryColor}),(function(e){return e.theme.secondaryColor}),(function(e){return e.theme.red})),d=t(1),p=t(11),h=t.n(p),f=t(16),g=t(21),v=t(34),b=function(e){var n=Math.floor((new Date-new Date(e))/1e3),t=Math.floor(n/31536e3);return t>1?t+" years":(t=Math.floor(n/2592e3))>1?t+" months":(t=Math.floor(n/86400))>1?t+" days":(t=Math.floor(n/3600))>1?t+" hours":(t=Math.floor(n/60))>1?t+" minutes":Math.floor(n)>5?Math.floor(n)+" seconds":"few seconds"},E=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.body,a=Object(v.a)(n,["body"]),r=localStorage.getItem("accesstoken"),o={"Content-Type":"application/json"};r&&(o.Authorization="Bearer ".concat(r));var l=Object(g.a)(Object(g.a)({method:t?"POST":"GET"},a),{},{headers:Object(g.a)(Object(g.a)({},o),a.headers)});return t&&(l.body=JSON.stringify(t)),fetch("".concat("http://localhost:55000").concat(e),l).then(function(){var e=Object(f.a)(h.a.mark((function e(n){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:if(t=e.sent,!n.ok){e.next=7;break}return e.abrupt("return",t);case 7:return e.abrupt("return",Promise.reject(t));case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}())},x=function(e){var n=new FormData;return n.append("file",e),n.append("upload_preset","complaintlodgeriitr"),n.append("cloud_name","dzi99jhwn"),fetch("https://api.cloudinary.com/v1_1/dzi99jhwn/image/upload",{method:"POST",body:n}).then((function(e){return e.json()}))},w=function(e){var n=Object(a.useState)(e),t=Object(d.a)(n,2),r=t[0],o=t[1];return{value:r,setValue:o,onChange:function(e){o(e.target.value)}}},y=Object(a.createContext)(null),j=function(e){var n=e.children,t=JSON.parse(localStorage.getItem("userdetail"));console.log(t);var o=Object(a.useState)(t||null),l=Object(d.a)(o,2),i=l[0],c=l[1];return r.a.createElement(y.Provider,{value:{user:i,setUser:c}},n)},C=t(18),O=t.n(C);t(30);function k(){var e=Object(s.a)(["\n  float:left;\n  .intro{\n  margin-top:15rem;\n  margin-left:150px;\n  text-align:justify;\n  width:500px !important;\n  font-size:20px;\n  animation: "," 1s ease-out;\n  }\n  h1{\n    font-weight:bold;\n    color: ",";\n  }\n  @media (max-width:875px){\n    .intro{\n      margin:20px;\n      width:95% !important;\n      \n      padding:10px;\n    }\n  }\n"]);return k=function(){return e},e}function N(){var e=Object(s.a)(["\n  background-color: ",";\n  padding: 1rem;\n  width: 350px;\n  \n  border: 1px solid ",";\n  margin: 10rem auto;  \n \n  text-align: center;\n  padding: 2rem 0;\n\n  animation: "," 1s linear;\n  @media (max-width:1120px){\n    width:350px;\n    margin-left:100px;\n    \n  }\n  @media(max-width:1020px){\n    margin:100px;\n  }\n  @media(max-width:800px){\n    margin:100px;\n  }\n  @media(max-width:530px){\n    margin:auto;\n    margin-bottom:15px;\n  }\n  @media (max-width:400px){\n    width:100%;\n   \n  }\n\n  img {\n    margin-bottom: 1.5rem;\n  }\n  input {\n    display: block;\n    margin: 0 auto;\n    margin-bottom: 1rem;\n    padding: 0.5rem 1.2rem;\n    color: ",";\n    background: ",";\n    border: 1px solid ",';\n    font-family: "Fira Sans", sans-serif;\n    font-size: 1rem;\n    border-radius: 4px;\n    width: 85%;\n  }\n  \n  input[type="submit"] {\n    background-color: ',";\n    color: ",";\n    border: 1px solid ",";\n    cursor: pointer;\n  }\n  .logo{\n    width:200px;\n    height:auto;\n    margin-bottom:0.3rem;\n  }\n  p {\n    margin-top: 2rem;\n  }\n  .info{\n    font-size:17px;\n    margin-bottom:12px;\n    font-weight:bold;\n    padding: 2px;\n  }\n  span {\n    color: ",";\n    cursor: pointer;\n  }\n  \n"]);return N=function(){return e},e}function S(){var e=Object(s.a)(["\n from{\n   opacity:0;\n }\n to{\n   opacity:1;\n }\n"]);return S=function(){return e},e}function z(){var e=Object(s.a)(["\nfrom{\n  transform:scale(-1,1);\n}\nto{\n  transform:scale(1,1);\n}\n"]);return z=function(){return e},e}var F=Object(c.f)(z()),M=Object(c.f)(S()),I=c.e.div(N(),(function(e){return e.theme.white}),(function(e){return e.theme.borderColor}),F,(function(e){return e.theme.primaryColor}),(function(e){return e.theme.white}),(function(e){return e.theme.borderColor}),(function(e){return e.theme.blue}),(function(e){return e.theme.white}),(function(e){return e.theme.blue}),(function(e){return e.theme.blue})),T=(c.e.div(k(),M,(function(e){return e.theme.blue})),function(e){var n=e.signup,t=Object(a.useContext)(y).setUser,o=w(""),l=w(""),c=function(){var e=Object(f.a)(h.a.mark((function e(n){var a,r,c,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),o.value&&l.value){e.next=3;break}return e.abrupt("return",i.b.error("Please fill in both the fields"));case 3:return a={email:o.value,password:l.value,isStudent:!0},e.prev=4,e.next=7,E("/auth/login",{body:a});case 7:r=e.sent,c=r.token,localStorage.setItem("accesstoken",c),e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(4),e.abrupt("return",i.b.error(e.t0.message));case 15:return e.next=17,E("/auth");case 17:s=e.sent,localStorage.setItem("userdetail",JSON.stringify(s.data)),t(s.data),i.b.success("Login successful"),window.location.reload(),o.setValue(""),l.setValue("");case 24:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(n){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"welcome",style:{width:"100%"}},r.a.createElement(I,{onSubmit:c},r.a.createElement("h2",{className:"info"},"Login "),r.a.createElement("form",null,r.a.createElement("input",{type:"email",placeholder:"yourgmail",value:o.value,onChange:o.onChange}),r.a.createElement("input",{type:"password",placeholder:"yoursecretpassword",value:l.value,onChange:l.onChange}),r.a.createElement("input",{type:"submit",value:"Log In",className:"login-btn"})),r.a.createElement("div",null,r.a.createElement("p",null,"Don't have an account? ",r.a.createElement("span",{onClick:n},"Sign up")))),r.a.createElement("div",null,r.a.createElement("p",{className:"footer"},"Created By Monika")))}),B=function(e){var n=e.login,t=Object(a.useContext)(y).setUser,o=w(""),l=Object(a.useState)(!1),c=Object(d.a)(l,2),s=c[0],u=c[1],m=Object(a.useState)(!1),p=Object(d.a)(m,2),g=p[0],v=p[1],b=Object(a.useState)(!1),x=Object(d.a)(b,2),j=x[0],C=x[1],k=Object(a.useState)("Request OTP"),N=Object(d.a)(k,2),S=N[0],z=N[1],F=w(""),M=w(""),T=w(""),B=w(""),_=function(){var e=Object(f.a)(h.a.mark((function e(n){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),e.prev=1,t={email:o.value},e.next=5,E("/auth/OTPrequest",{body:t});case 5:e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),C(!1),e.abrupt("return",i.b.error(e.t0.message));case 11:return v(!0),C(!1),z("Resend OTP"),e.abrupt("return",i.b.success("Enter the 6 digit OTP sent to your email"));case 15:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(n){return e.apply(this,arguments)}}(),P=function(){var e=Object(f.a)(h.a.mark((function e(n){var a,r,l,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),o.value&&T.value&&M.value&&F.value){e.next=3;break}return e.abrupt("return",i.b.error("Please fill in all the fields"));case 3:if(null!==/^[a-z0-9]+$/i.exec(M.value)){e.next=6;break}return e.abrupt("return",i.b.error("The username can only contain letter and digits"));case 6:if(!(M.value.length<6)){e.next=8;break}return e.abrupt("return",i.b.error("username should be atleast 6 character long, please try again"));case 8:if(!(T.value.length<6)){e.next=10;break}return e.abrupt("return",i.b.error("Password should be minimum of 6 characters in length"));case 10:if("highlight"!==M.value){e.next=12;break}return e.abrupt("return",i.b.error("This username is not available"));case 12:return a={email:o.value,password:T.value,username:M.value,fullname:F.value,OTP:B.value,isStudent:!0,hostel:"Ravindra bhawan",institute_id:"19114042"},e.prev=13,e.next=16,E("/auth/signup",{body:a});case 16:r=e.sent,l=r.token,localStorage.setItem("accesstoken",l),e.next=24;break;case 21:return e.prev=21,e.t0=e.catch(13),e.abrupt("return",i.b.error(e.t0.message));case 24:return e.next=26,E("/auth");case 26:c=e.sent,t(c.data),localStorage.setItem("userdetail",JSON.stringify(c.data)),F.setValue(""),M.setValue(""),T.setValue(""),o.setValue(""),B.setValue("");case 34:case"end":return e.stop()}}),e,null,[[13,21]])})));return function(n){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(I,{onSubmit:P},r.a.createElement("img",{src:O.a,className:"logo",alt:"logo"}),r.a.createElement("h2",{className:"info"},"Create an account to resolve your complaints easily!"),r.a.createElement("form",null,r.a.createElement("input",{type:"email",placeholder:"Email",value:o.value,onChange:o.onChange}),r.a.createElement("input",{type:"text",placeholder:"Full Name",value:F.value,onChange:F.onChange}),r.a.createElement("input",{type:"text",placeholder:"Username",value:M.value,onChange:M.onChange}),r.a.createElement("input",{type:"password",placeholder:"Password",value:T.value,onChange:T.onChange}),g&&r.a.createElement("input",{type:"number",min:"100000",id:"OTP",placeholder:"6-digit OTP",max:"999999",onChange:B.onChange,onInput:function(e){6===document.getElementById("OTP").value.toString().length?u(!0):u(!1)}}),!j&&!s&&r.a.createElement("input",{type:"button",style:{background:"#00FF10",fontWeight:"bold",color:"#000000",cursor:"pointer"},value:S,disabled:j,onClick:_}),s&&r.a.createElement("input",{type:"submit",value:"Sign up",className:"signup-btn"})),r.a.createElement("div",null,r.a.createElement("p",null,"Already have an account? ",r.a.createElement("span",{onClick:n},"Login")))),r.a.createElement("div",null,r.a.createElement("p",{className:"footer"},"Created By Monika")))},_=function(){var e=Object(a.useState)(0),n=Object(d.a)(e,2),t=n[0],o=n[1];return t?r.a.createElement(B,{login:function(){return o(0)}}):r.a.createElement(T,{signup:function(){return o(1)}})},P=t(5),L=t(6),D={primaryColor:"#262626",secondaryColor:"#B2B2B2",bg:"#FAFAFA",blue:"#0095F6",red:"#ED4956",white:"#FFF",borderColor:"#DBDBDB",borderRadius:"4px",inputBg:"#FFF",footerColor:"AED3D3"},R={primaryColor:"#EEE",secondaryColor:"#3D3D3D",bg:"#030303",blue:"#0095F6",red:"#ED4956",white:"#111",inputBg:"#333333",borderColor:"#242424",borderRadius:"4px",footerColor:"#312b2b"},V=Object(a.createContext)(null),A=function(e){var n=e.children,t=Object(a.useState)("light"===localStorage.getItem("themepreference")?D:R),o=Object(d.a)(t,2),l=o[0],i=o[1];return r.a.createElement(V.Provider,{value:{theme:l,setTheme:i}},n)};function U(){var e=Object(s.a)(["\n      background: none;\n      color: #242424;\n      border: 1px solid #dbdbdb;\n      font-weight: 500;\n    "]);return U=function(){return e},e}function H(){var e=Object(s.a)(['\n  background-color: #0095f6;\n  border: 1px solid #0095f6;\n  padding: 0.4rem 1rem;\n  color: #fff;\n  border-radius: 4px;\n  margin-top: 1rem;\n  margin-left: 1rem;\n  font-family: "Fira Sans", sans-serif;\n  font-size: 1rem;\n  ',"\n"]);return H=function(){return e},e}var Y=c.e.button(H(),(function(e){return e.secondary&&Object(c.d)(U())})),W=function(e){var n=e.nobtn,t=e.isFollowing,o=e.incFollowers,l=e.decFollowers,i=e.userId,c=e.myId,s=Object(a.useState)(t),u=Object(d.a)(s,2),m=u[0],p=u[1];Object(a.useEffect)((function(){return p(t)}),[t]);var h=function(){if(m){p(!1),l&&l();try{E("/user/".concat(i,"/unfriend"))}catch(e){e.logout&&nn()}}else{p(!0),o&&o();try{E("/user/".concat(i,"/friend"))}catch(e){e.logout&&nn()}}};return m?r.a.createElement(r.a.Fragment,null,n?r.a.createElement("span",{style:{color:"#262626"},className:"pointer",onClick:function(){return h()}},"Following"):r.a.createElement(Y,{onClick:function(){return h()}},"Following")):r.a.createElement(r.a.Fragment,null,c!==i&&(n?r.a.createElement("span",{className:"pointer",onClick:function(){return h()}},"Follow"):r.a.createElement(Y,{onClick:function(){return h()}},"Follow")))};function J(){var e=Object(s.a)(["\n      width: 56px;\n      height: 56px;\n      border-radius: 28px;\n    "]);return J=function(){return e},e}function K(){var e=Object(s.a)(["\n  width: 32px;\n  height: 32px;\n  object-fit: cover;\n  border-radius: 16px;\n  margin-right: 1rem;\n  ","\n"]);return K=function(){return e},e}var G=c.e.img(K(),(function(e){return e.lg&&Object(c.d)(J())}));function q(){var e=Object(s.a)(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 1rem;\n  span {\n    color: ",";\n  }\n"]);return q=function(){return e},e}function Z(){var e=Object(s.a)(["\n  width: 280px;\n  margin-top: 1rem;\n  position: fixed;\n  top: 6rem;\n  left: 64.5%;\n  .suggestions {\n    margin-top: 1.8rem;\n  }\n  .suggestions div {\n    width: 230px;\n  }\n  .suggestions > h3 {\n    margin-bottom: 0.5rem;\n  }\n  .suggestions-usercard {\n    display: flex;\n    align-items: center;\n    font-size: 0.9rem;\n  }\n  .suggestions img {\n    width: 44px;\n    height: 44px;\n    border-radius: 22px;\n  }\n  .follow {\n    position: relative;\n    top: -0.3rem;\n  }\n  span {\n    color: ",";\n    font-weight: 500;\n  }\n  @media screen and (max-width: 1095px) {\n    left: 67%;\n  }\n  @media screen and (max-width: 1040px) {\n    display: none;\n  }\n"]);return Z=function(){return e},e}var $=c.e.div(Z(),(function(e){return e.theme.blue})),Q=c.e.div(q(),(function(e){return e.theme.secondaryColor})),X=function(e){var n=e.user,t=Object(L.f)();return r.a.createElement(Q,null,r.a.createElement(G,{className:"pointer",onClick:function(){return t.push("/".concat(n.username))},lg:!0,src:n.avatar,alt:"avatar"}),r.a.createElement("div",{className:"user-info"},r.a.createElement("h3",{className:"pointer",onClick:function(){return t.push("/".concat(n.username))}},n.username),r.a.createElement("span",null,n.fullname)))},ee=function(){var e=Object(a.useContext)(y).user,n=Object(a.useState)([]),t=Object(d.a)(n,2),o=t[0],l=t[1];return Object(a.useEffect)((function(){E("/user").then((function(e){l(e.data.filter((function(e){return!e.isFollowing})))}))}),[]),r.a.createElement($,null,r.a.createElement(X,{user:e}),r.a.createElement("div",{className:"suggestions"},r.a.createElement("h3",null,"Suggestions For You"),o.slice(0,4).map((function(e){return r.a.createElement("div",{key:e.username,className:"suggestions-usercard"},r.a.createElement(X,{user:e}),r.a.createElement(W,{nobtn:!0,isFollowing:e.isFollowing,userId:e._id}))})),0===o.length&&r.a.createElement("p",null,"Right now, there's no suggestions for you")))},ne=function(e){return r.a.createElement("svg",{"aria-label":"Home",fill:e.theme.primaryColor,height:"22",viewBox:"0 0 48 48",width:"22"},r.a.createElement("path",{d:"M45.3 48H30c-.8 0-1.5-.7-1.5-1.5V34.2c0-2.6-2-4.6-4.6-4.6s-4.6 2-4.6 4.6v12.3c0 .8-.7 1.5-1.5 1.5H2.5c-.8 0-1.5-.7-1.5-1.5V23c0-.4.2-.8.4-1.1L22.9.4c.6-.6 1.5-.6 2.1 0l21.5 21.5c.4.4.6 1.1.3 1.6 0 .1-.1.1-.1.2v22.8c.1.8-.6 1.5-1.4 1.5zm-13.8-3h12.3V23.4L24 3.6l-20 20V45h12.3V34.2c0-4.3 3.3-7.6 7.6-7.6s7.6 3.3 7.6 7.6V45z"}))},te=function(e){return r.a.createElement("svg",Object.assign({},e,{"aria-label":"chat",fill:e.theme.primaryColor,height:"22",viewBox:"0 0 48 48",width:"22"}),r.a.createElement("path",{d:"M47.8 3.8c-.3-.5-.8-.8-1.3-.8h-45C.9 3.1.3 3.5.1 4S0 5.2.4 5.7l15.9 15.6 5.5 22.6c.1.6.6 1 1.2 1.1h.2c.5 0 1-.3 1.3-.7l23.2-39c.4-.4.4-1 .1-1.5zM5.2 6.1h35.5L18 18.7 5.2 6.1zm18.7 33.6l-4.4-18.4L42.4 8.6 23.9 39.7z"}))},ae=function(e){return r.a.createElement("svg",Object.assign({},e,{"aria-label":"Notification",fill:e.theme.primaryColor,height:"22",viewBox:"0 0 48 48",width:"22"}),r.a.createElement("path",{d:"M34.6 6.1c5.7 0 10.4 5.2 10.4 11.5 0 6.8-5.9 11-11.5 16S25 41.3 24 41.9c-1.1-.7-4.7-4-9.5-8.3-5.7-5-11.5-9.2-11.5-16C3 11.3 7.7 6.1 13.4 6.1c4.2 0 6.5 2 8.1 4.3 1.9 2.6 2.2 3.9 2.5 3.9.3 0 .6-1.3 2.5-3.9 1.6-2.3 3.9-4.3 8.1-4.3m0-3c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5.6 0 1.1-.2 1.6-.5 1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"}))},re=function(e){return r.a.createElement("svg",{style:{transform:"translate(30%,30%) scale(1.6)"},"aria-label":"Notification",fill:e.theme.primaryColor,height:"25",viewBox:"0 0 48 48",width:"25"},r.a.createElement("path",{d:"M7.847 23.488C9.207 23.488 11.443 23.363 14.467 22.806 13.944 24.228 12.581 25.247 10.98 25.247 9.649 25.247 8.483 24.542 7.825 23.488L7.847 23.488ZM24.923 15.73C25.17 17.002 24.278 18.127 22.27 19.076 21.17 19.595 18.724 20.583 14.684 21.369 11.568 21.974 9.285 22.113 7.848 22.113 7.421 22.113 7.068 22.101 6.79 22.085 4.574 21.958 3.324 21.248 3.077 19.976 2.702 18.049 3.295 17.305 4.278 16.073L4.537 15.748C5.2 14.907 5.459 14.081 5.035 11.902 4.086 7.022 6.284 3.687 11.064 2.753 15.846 1.83 19.134 4.096 20.083 8.977 20.506 11.156 21.056 11.824 21.986 12.355L21.986 12.356 22.348 12.561C23.72 13.335 24.548 13.802 24.923 15.73Z"}))},oe=function(e){return r.a.createElement("svg",{"aria-label":"Find top priority complains",fill:e.theme.primaryColor,height:"22",viewBox:"0 0 48 48",width:"22"},r.a.createElement("path",{clipRule:"evenodd",d:"M24 0C10.8 0 0 10.8 0 24s10.8 24 24 24 24-10.8 24-24S37.2 0 24 0zm0 45C12.4 45 3 35.6 3 24S12.4 3 24 3s21 9.4 21 21-9.4 21-21 21zm10.2-33.2l-14.8 7c-.3.1-.6.4-.7.7l-7 14.8c-.3.6-.2 1.3.3 1.7.3.3.7.4 1.1.4.2 0 .4 0 .6-.1l14.8-7c.3-.1.6-.4.7-.7l7-14.8c.3-.6.2-1.3-.3-1.7-.4-.5-1.1-.6-1.7-.3zm-7.4 15l-5.5-5.5 10.5-5-5 10.5z",fillRule:"evenodd"}))},le=function(e){return r.a.createElement("svg",Object.assign({},e,{"aria-label":"Comment",fill:e.theme.primaryColor,height:"22",viewBox:"0 0 48 48",width:"22"}),r.a.createElement("path",{clipRule:"evenodd",d:"M47.5 46.1l-2.8-11c1.8-3.3 2.8-7.1 2.8-11.1C47.5 11 37 .5 24 .5S.5 11 .5 24 11 47.5 24 47.5c4 0 7.8-1 11.1-2.8l11 2.8c.8.2 1.6-.6 1.4-1.4zm-3-22.1c0 4-1 7-2.6 10-.2.4-.3.9-.2 1.4l2.1 8.4-8.3-2.1c-.5-.1-1-.1-1.4.2-1.8 1-5.2 2.6-10 2.6-11.4 0-20.6-9.2-20.6-20.5S12.7 3.5 24 3.5 44.5 12.7 44.5 24z",fillRule:"evenodd"}))},ie=function(e){return r.a.createElement("svg",Object.assign({},e,{"aria-label":"Save",height:"22",viewBox:"0 0 48 48",width:"22"}),r.a.createElement("path",{d:"M43.5 48c-.4 0-.8-.2-1.1-.4L24 29 5.6 47.6c-.4.4-1.1.6-1.6.3-.6-.2-1-.8-1-1.4v-45C3 .7 3.7 0 4.5 0h39c.8 0 1.5.7 1.5 1.5v45c0 .6-.4 1.2-.9 1.4-.2.1-.4.1-.6.1zM24 26c.8 0 1.6.3 2.2.9l15.8 16V3H6v39.9l15.8-16c.6-.6 1.4-.9 2.2-.9z"}))},ce=function(e){return r.a.createElement("svg",Object.assign({},e,{"aria-label":"Unlike",fill:"#ed4956",height:"24",viewBox:"0 0 48 48",width:"24"}),r.a.createElement("path",{d:"M34.6 3.1c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5s1.1-.2 1.6-.5c1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"}))},se=function(e){return r.a.createElement("svg",Object.assign({},e,{"aria-label":"Remove",height:"24",viewBox:"0 0 48 48",width:"24"}),r.a.createElement("path",{d:"M43.5 48c-.4 0-.8-.2-1.1-.4L24 28.9 5.6 47.6c-.4.4-1.1.6-1.6.3-.6-.2-1-.8-1-1.4v-45C3 .7 3.7 0 4.5 0h39c.8 0 1.5.7 1.5 1.5v45c0 .6-.4 1.2-.9 1.4-.2.1-.4.1-.6.1z"}))},ue=function(){return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"#0F0",viewBox:"0 0 24 24"},r.a.createElement("path",{d:"M20.285 2l-11.285 11.567-5.286-5.011-3.714 3.716 9 8.728 15-15.285z"}))},me=function(e){return r.a.createElement("svg",Object.assign({},e,{"aria-label":"More options",fill:e.theme.primaryColor,height:"16",viewBox:"0 0 48 48",width:"16"}),r.a.createElement("circle",{clipRule:"evenodd",cx:"8",cy:"24",fillRule:"evenodd",r:"4.5"}),r.a.createElement("circle",{clipRule:"evenodd",cx:"24",cy:"24",fillRule:"evenodd",r:"4.5"}),r.a.createElement("circle",{clipRule:"evenodd",cx:"40",cy:"24",fillRule:"evenodd",r:"4.5"}))},de=function(e){return r.a.createElement("svg",{"aria-label":"Posts",fill:"#8e8e8e",height:"12",viewBox:"0 0 48 48",width:"12"},r.a.createElement("path",{clipRule:"evenodd",d:"M45 1.5H3c-.8 0-1.5.7-1.5 1.5v42c0 .8.7 1.5 1.5 1.5h42c.8 0 1.5-.7 1.5-1.5V3c0-.8-.7-1.5-1.5-1.5zm-40.5 3h11v11h-11v-11zm0 14h11v11h-11v-11zm11 25h-11v-11h11v11zm14 0h-11v-11h11v11zm0-14h-11v-11h11v11zm0-14h-11v-11h11v11zm14 28h-11v-11h11v11zm0-14h-11v-11h11v11zm0-14h-11v-11h11v11z",fillRule:"evenodd"}))},pe=function(e){return r.a.createElement("svg",{"aria-label":"Saved",fill:"#8e8e8e",height:"12",viewBox:"0 0 48 48",width:"12"},r.a.createElement("path",{d:"M43.5 48c-.4 0-.8-.2-1.1-.4L24 29 5.6 47.6c-.4.4-1.1.6-1.6.3-.6-.2-1-.8-1-1.4v-45C3 .7 3.7 0 4.5 0h39c.8 0 1.5.7 1.5 1.5v45c0 .6-.4 1.2-.9 1.4-.2.1-.4.1-.6.1zM24 26c.8 0 1.6.3 2.2.9l15.8 16V3H6v39.9l15.8-16c.6-.6 1.4-.9 2.2-.9z"}))},he=function(e){return r.a.createElement("svg",{"aria-label":"Tagged",fill:"#262626",height:"12",viewBox:"0 0 48 48",width:"12"},r.a.createElement("path",{d:"M41.5 5.5H30.4c-.5 0-1-.2-1.4-.6l-4-4c-.6-.6-1.5-.6-2.1 0l-4 4c-.4.4-.9.6-1.4.6h-11c-3.3 0-6 2.7-6 6v30c0 3.3 2.7 6 6 6h35c3.3 0 6-2.7 6-6v-30c0-3.3-2.7-6-6-6zm-29.4 39c-.6 0-1.1-.6-1-1.2.7-3.2 3.5-5.6 6.8-5.6h12c3.4 0 6.2 2.4 6.8 5.6.1.6-.4 1.2-1 1.2H12.1zm32.4-3c0 1.7-1.3 3-3 3h-.6c-.5 0-.9-.4-1-.9-.6-5-4.8-8.9-9.9-8.9H18c-5.1 0-9.4 3.9-9.9 8.9-.1.5-.5.9-1 .9h-.6c-1.7 0-3-1.3-3-3v-30c0-1.7 1.3-3 3-3h11.1c1.3 0 2.6-.5 3.5-1.5L24 4.1 26.9 7c.9.9 2.2 1.5 3.5 1.5h11.1c1.7 0 3 1.3 3 3v30zM24 12.5c-5.3 0-9.6 4.3-9.6 9.6s4.3 9.6 9.6 9.6 9.6-4.3 9.6-9.6-4.3-9.6-9.6-9.6zm0 16.1c-3.6 0-6.6-2.9-6.6-6.6 0-3.6 2.9-6.6 6.6-6.6s6.6 2.9 6.6 6.6c0 3.6-3 6.6-6.6 6.6z"}))},fe=function(e){return r.a.createElement("svg",Object.assign({},e,{"aria-label":"Options",fill:"#8e8e8e",height:"24",viewBox:"0 0 48 48",width:"24"}),r.a.createElement("path",{clipRule:"evenodd",d:"M46.7 20.6l-2.1-1.1c-.4-.2-.7-.5-.8-1-.5-1.6-1.1-3.2-1.9-4.7-.2-.4-.3-.8-.1-1.2l.8-2.3c.2-.5 0-1.1-.4-1.5l-2.9-2.9c-.4-.4-1-.5-1.5-.4l-2.3.8c-.4.1-.8.1-1.2-.1-1.4-.8-3-1.5-4.6-1.9-.4-.1-.8-.4-1-.8l-1.1-2.2c-.3-.5-.8-.8-1.3-.8h-4.1c-.6 0-1.1.3-1.3.8l-1.1 2.2c-.2.4-.5.7-1 .8-1.6.5-3.2 1.1-4.6 1.9-.4.2-.8.3-1.2.1l-2.3-.8c-.5-.2-1.1 0-1.5.4L5.9 8.8c-.4.4-.5 1-.4 1.5l.8 2.3c.1.4.1.8-.1 1.2-.8 1.5-1.5 3-1.9 4.7-.1.4-.4.8-.8 1l-2.1 1.1c-.5.3-.8.8-.8 1.3V26c0 .6.3 1.1.8 1.3l2.1 1.1c.4.2.7.5.8 1 .5 1.6 1.1 3.2 1.9 4.7.2.4.3.8.1 1.2l-.8 2.3c-.2.5 0 1.1.4 1.5L8.8 42c.4.4 1 .5 1.5.4l2.3-.8c.4-.1.8-.1 1.2.1 1.4.8 3 1.5 4.6 1.9.4.1.8.4 1 .8l1.1 2.2c.3.5.8.8 1.3.8h4.1c.6 0 1.1-.3 1.3-.8l1.1-2.2c.2-.4.5-.7 1-.8 1.6-.5 3.2-1.1 4.6-1.9.4-.2.8-.3 1.2-.1l2.3.8c.5.2 1.1 0 1.5-.4l2.9-2.9c.4-.4.5-1 .4-1.5l-.8-2.3c-.1-.4-.1-.8.1-1.2.8-1.5 1.5-3 1.9-4.7.1-.4.4-.8.8-1l2.1-1.1c.5-.3.8-.8.8-1.3v-4.1c.4-.5.1-1.1-.4-1.3zM24 41.5c-9.7 0-17.5-7.8-17.5-17.5S14.3 6.5 24 6.5 41.5 14.3 41.5 24 33.7 41.5 24 41.5z",fillRule:"evenodd"}))},ge=function(e){return r.a.createElement("svg",Object.assign({},e,{"aria-label":"Close",fill:e.theme.primaryColor,height:"24",viewBox:"0 0 48 48",width:"24"}),r.a.createElement("path",{clipRule:"evenodd",d:"M41.1 9.1l-15 15L41 39c.6.6.6 1.5 0 2.1s-1.5.6-2.1 0L24 26.1l-14.9 15c-.6.6-1.5.6-2.1 0-.6-.6-.6-1.5 0-2.1l14.9-15-15-15c-.6-.6-.6-1.5 0-2.1s1.5-.6 2.1 0l15 15 15-15c.6-.6 1.5-.6 2.1 0 .6.6.6 1.6 0 2.2z",fillRule:"evenodd"}))},ve=function(e){return r.a.createElement("svg",Object.assign({},e,{xmlns:"http://www.w3.org/2000/svg",fill:"#262626",width:"24",height:"24",viewBox:"0 0 24 24"}),r.a.createElement("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"}))},be=function(e){return r.a.createElement("svg",Object.assign({},e,{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",clipRule:"evenodd"}),r.a.createElement("path",{d:"M11.5 0c6.347 0 11.5 5.153 11.5 11.5s-5.153 11.5-11.5 11.5-11.5-5.153-11.5-11.5 5.153-11.5 11.5-11.5zm0 1c5.795 0 10.5 4.705 10.5 10.5s-4.705 10.5-10.5 10.5-10.5-4.705-10.5-10.5 4.705-10.5 10.5-10.5zm.5 10h6v1h-6v6h-1v-6h-6v-1h6v-6h1v6z"}))},Ee=function(e){return r.a.createElement("svg",Object.assign({},e,{width:"16",height:"16",xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",clipRule:"evenodd"}),r.a.createElement("path",{xmlns:"http://www.w3.org/2000/svg",d:"m15.3828.15625c-.375488-.15625-.804688-.0698242-1.08984.216797-.314941.31488-.707031.70697-2.29297.70697-1.42822 0-2.50537.849548-3.29199 1.4696-.22168.174805-.543945.428711-.669434.508301-.125488-.0893554-.333008-.293457-.478516-.436523-.625-.613709-1.56934-1.54138-3.06006-1.54138-1.64648 0-2.53027-.444275-2.79297-.70697-.287109-.286621-.716797-.373047-1.08984-.216797-.373535.154785-.617188.51947-.617188.923767 0 2.80103.443848 6.62305 4.28223 7.4765 1.56494.347595 2.13232.763123 2.50732 1.03845.294434.21582.661133.484375 1.21045.484375.549316 0 .916016-.269043 1.21045-.484863.375-.274841.942383-.690857 2.50684-1.03845 3.83887-.852478 4.28271-4.67499 4.28271-7.47601 0-.404297-.243652-.768982-.617188-.923767zm-12.3828 3.98651s2.2793-.354004 3.33331.609131c.666687.60913.666687 1.2182.666687 1.82733-4 0-4-2.43646-4-2.43646zm6 2.43646c0-.609131 0-1.2182.666687-1.82733 1.05402-.963135 3.33331-.609131 3.33331-.609131s0 2.43646-4 2.43646z",transform:"translate(0 2.921)"}))};function xe(){var e=Object(s.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100vh;\n  animation: "," 2s linear infinite;\n  svg {\n    height: 50px;\n    width: 50px;\n    fill: ",";\n  }\n  @media screen and (max-width: 500px) {\n    svg {\n      height: 40px;\n      width: 40px;\n    }\n  }\n"]);return xe=function(){return e},e}function we(){var e=Object(s.a)(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]);return we=function(){return e},e}var ye=Object(c.f)(we()),je=c.e.div(xe(),ye,(function(e){return e.theme.secondaryColor})),Ce=function(){return r.a.createElement(je,null,r.a.createElement(ve,null))};function Oe(){var e=Object(s.a)(["\n  background: ",";\n  border: 1px solid ",";\n  width: 600px;\n  padding: 1rem;\n  justify-self: center;\n  .suggestion {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    margin-bottom: 1rem;\n  }\n  .user-info {\n    display: flex;\n    align-items: center;\n  }\n  button {\n    font-size: 0.9rem;\n    position: relative;\n    top: -5px;\n  }\n  @media screen and (max-width: 660px) {\n    width: 500px;\n  }\n  @media screen and (max-width: 530px) {\n    width: 450px;\n  }\n  @media screen and (max-width: 480px) {\n    width: 380px;\n  }\n  @media screen and (max-width: 400px) {\n    width: 340px;\n    button {\n      font-size: 0.8rem;\n    }\n  }\n"]);return Oe=function(){return e},e}var ke=c.e.div(Oe(),(function(e){return e.theme.white}),(function(e){return e.theme.borderColor})),Ne=function(){var e=Object(a.useState)([]),n=Object(d.a)(e,2),t=n[0],o=n[1],l=Object(a.useState)(!0),i=Object(d.a)(l,2),c=i[0],s=i[1],u=Object(L.f)();return Object(a.useEffect)((function(){try{E("/user").then((function(e){o(e.data),s(!1)}))}catch(e){e.logout&&nn()}}),[]),c?r.a.createElement(Ce,null):r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},r.a.createElement("h3",{style:{marginBottom:"0.7rem"}},"Suggestions for you"),r.a.createElement(ke,null,t.map((function(e){return r.a.createElement("div",{key:e._id,className:"suggestion"},r.a.createElement("div",{className:"user-info"},r.a.createElement(G,{className:"pointer",onClick:function(){return u.push("/".concat(e.username))},src:e.avatar,alt:"avatar"}),r.a.createElement("div",{className:"user-meta"},r.a.createElement("h4",{className:"pointer",onClick:function(){return u.push("/".concat(e.username))}},e.username),r.a.createElement("span",{className:"secondary"},e.fullname))),r.a.createElement(W,{isFollowing:e.isFollowing,userId:e._id}))}))))},Se=t(14),ze=t(23),Fe=function(e){var n=e.isLiked,t=e.postId,o=e.incLikes,l=e.decLikes,i=Object(a.useState)(n),c=Object(d.a)(i,2),s=c[0],u=c[1],m=Object(a.useContext)(V).theme;Object(a.useEffect)((function(){u(n)}),[n]);var p=function(){if(s){u(!1),l();try{E("/complain/".concat(t,"/toggleLike"))}catch(e){e.logout&&nn()}}else{u(!0),o();try{E("/complain/".concat(t,"/toggleLike"))}catch(e){e.logout&&nn()}}};return s?r.a.createElement(ce,{onClick:p}):s?void 0:r.a.createElement(ae,{onClick:p,theme:m})},Me=function(e){var n=e.isSaved,t=e.postId,o=Object(a.useState)(n),l=Object(d.a)(o,2),c=l[0],s=l[1],u=Object(a.useContext)(V).theme;u="".concat(u.primaryColor),Object(a.useEffect)((function(){s(n)}),[n]);var m=function(){if(c){s(!1);try{E("/complain/".concat(t,"/toggleSave"))}catch(e){return e.logout&&nn(),i.b.error(e.message)}}else{s(!0);try{E("/complain/".concat(t,"/toggleSave"))}catch(e){return e.logout&&nn(),i.b.error(e.message)}}};return c?r.a.createElement(se,{fill:u,onClick:m}):c?void 0:r.a.createElement(ie,{fill:u,onClick:m})};function Ie(){var e=Object(s.a)(["\n  display: flex;\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n  z-index: 100;\n  overflow: hidden;\n  animation: "," 0.5s ease-in-out;\n  .modal-content {\n    background: ",";\n    border-radius: 4px;\n    margin: auto;\n    justify-self: center;\n  }\n  .modal-content img.post-preview {\n    width: 100%;\n    height: 100%;\n    object-fit: contain;\n  }\n"]);return Ie=function(){return e},e}function Te(){var e=Object(s.a)(["\n\tfrom {\n\t\topacity: 0;\n\t}\n\tto {\n\t\topacity: 1;\n\t}\n"]);return Te=function(){return e},e}var Be=Object(c.f)(Te()),_e=c.e.div(Ie(),Be,(function(e){return e.theme.white})),Pe=function(e){var n=e.children;return r.a.createElement(_e,null,r.a.createElement("div",{className:"modal-content"},n))},Le=function(e){(function(e){return"touches"in e})(e)&&e.touches.length<2&&e.preventDefault&&e.preventDefault()},De=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.shouldPreventDefault,o=void 0===r||r,l=t.delay,i=void 0===l?300:l,c=Object(a.useState)(!1),s=Object(d.a)(c,2),u=s[0],m=s[1],p=Object(a.useRef)(),h=Object(a.useRef)(),f=Object(a.useCallback)((function(n){o&&n.target&&(n.target.addEventListener("touchend",Le,{passive:!1}),h.current=n.target),p.current=setTimeout((function(){e(n),m(!0)}),i)}),[e,i,o]),g=Object(a.useCallback)((function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];p.current&&clearTimeout(p.current),t&&!u&&n(),m(!1),o&&h.current&&h.current.removeEventListener("touchend",Le)}),[o,n,u]);return{onMouseDown:function(e){return f(e)},onTouchStart:function(e){return f(e)},onMouseUp:function(e){return g(e)},onMouseLeave:function(e){return g(e,!1)},onTouchEnd:function(e){return g(e)}}};function Re(){var e=Object(s.a)(["\n  display: flex;\n  max-width:85%;\n  word-break:break-word;\n  span {\n    padding-right: 0.4rem;\n  }\n  svg{\n    margin-left:auto;\n    margin-right:1rem;\n  }\n"]);return Re=function(){return e},e}var Ve=c.e.div(Re()),Ae=function(e){var n=e.postId,t=e.commentId,a=e.isMine,o=e.closeModal,l=e.commentsStateF;return r.a.createElement(Pe,null,r.a.createElement(qe,null,r.a.createElement("span",{className:"danger",onClick:o},"Cancel"),a&&r.a.createElement("span",{className:"danger",onClick:function(){o(),E("/complain/".concat(n,"/comments/").concat(t),{method:"DELETE"}).then((function(){return l({commentId:t}),i.b.success("Comment deleted successfully")})).catch((function(e){return e.logout&&nn(),i.b.error(e.message)}))}},"Delete comment")))},Ue=function(e){var n=e.postId,t=e.comment,o=e.hideavatar,l=e.commentsStateF,i=Object(L.f)(),c=Object(a.useState)(!1),s=Object(d.a)(c,2),u=s[0],m=s[1],p=De((function(){m(!0)}),(function(){console.log("click is triggered")}),{shouldPreventDefault:!0,delay:700});return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ve,{style:{padding:o?"":"0.4rem 0"}},!o&&r.a.createElement(G,{className:"pointer",onClick:function(){return i.push("/".concat(t.user.username))},src:t.user.avatar,alt:"avatar"}),t.isCommentMine?r.a.createElement("p",Object.assign({},p,{style:{cursor:"pointer"}}),r.a.createElement("span",{onClick:function(){return i.push("/".concat(t.user.username))},className:"bold pointer"},t.user.username),t.text):r.a.createElement("p",null,r.a.createElement("span",{onClick:function(){return i.push("/".concat(t.user.username))},className:"bold pointer"},t.user.username),t.text)),u&&r.a.createElement(Pe,null,r.a.createElement(Ae,{postId:n,commentsStateF:l,closeModal:function(){m(!1)},isMine:t.isCommentMine,commentId:t._id})))},He=Object(a.createContext)(null),Ye=function(e){var n=e.children,t=Object(a.useState)([]),o=Object(d.a)(t,2),l=o[0],i=o[1];return r.a.createElement(He.Provider,{value:{feed:l,setFeed:i}},n)},We=function(e){var n=e.postId,t=e.closeModal,o=e.goToHome,l=Object(a.useContext)(He),c=l.feed,s=l.setFeed,u=Object(L.f)();return r.a.createElement("span",{className:"danger",onClick:function(){t(),o&&u.push("/"),s(c.filter((function(e){return e._id!==n})));try{E("/complain/".concat(n),{method:"DELETE"}),i.b.success("Your complain has been deleted successfully")}catch(e){e.logout?nn():i.b.error(e.message)}}},"Delete Post")},Je=function(e){var n=e.postId,t=e.closeModal,o=e.isMarkResolved,l=e.post,c=Object(a.useContext)(He),s=c.feed,u=c.setFeed,m=function(){t(),s.forEach((function(e){e._id===n&&(e.resolved=!o)})),l&&(l.resolved=!o),u(s),i.b.success("Your complain has been marked ".concat(o?"unresolved":"resolved"," successfully"));var e={markresolved:!o};try{E("/complain/resolve/".concat(n),{body:e})}catch(a){a.logout&&nn()}};return o?r.a.createElement("span",{style:{color:"#FF0"},onClick:m},"Mark unresolved"):r.a.createElement("span",{style:{color:"#0F0"},onClick:m},"Mark resolved")};function Ke(){var e=Object(s.a)(["\n  width: 615px;\n  background: ",";\n  border: 1px solid ",";\n  margin-bottom: 1.5rem;\n  .post-header-wrapper {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n  }\n  .post-header {\n    display: flex;\n    align-items: center;\n    padding: 1rem;\n  }\n  .post-header h3 {\n    cursor: pointer;\n  }\n  .post-img {\n    width: 100%;\n    height: 100%;\n  }\n  .post-actions {\n    display: flex;\n    align-items: center;\n    padding: 0.5rem 1rem;\n    padding-bottom: 0.2rem;\n  }\n  .post-actions svg:last-child {\n    margin-left: auto;\n  }\n  .post-img-inverted{\n    filter:invert(50%);\n    width: 100%;\n    height: 500px;\n  }\n  svg {\n    margin-right: 1rem;\n  }\n  .likes-caption-comments {\n    padding: 1rem;\n    padding-top: 0.3rem;\n  }\n  .username {\n    padding-right: 0.3rem;\n  }\n  .view-comments {\n    color: ",";\n    cursor: pointer;\n  }\n  textarea {\n    height: 43px;\n    width: 100%;\n    border: none;\n    border-top: 1px solid ",';\n    resize: none;\n    padding: 1rem 0 0 1rem;\n    font-size: 1rem;\n    font-family: "Fira Sans", sans-serif;\n  }\n  @media screen and (max-width: 690px) {\n    width: 99%;\n  }\n']);return Ke=function(){return e},e}function Ge(){var e=Object(s.a)(["\n  width: 300px;\n  display: flex;\n  flex-direction: column;\n  text-align: center;\n  span:last-child {\n    border: none;\n  }\n  \n  span {\n    display: block;\n    padding: 1rem 0;\n    border-bottom: 1px solid ",";\n    cursor: pointer;\n  }\n"]);return Ge=function(){return e},e}var qe=c.e.div(Ge(),(function(e){return e.theme.borderColor})),Ze=function(e){var n=e.hideGotoPost,t=e.postId,a=e.closeModal,o=e.resolved,l=e.post,i=e.isMine,c=Object(L.f)();return r.a.createElement(qe,null,r.a.createElement("span",{className:"danger",onClick:a},"Cancel"),i?r.a.createElement(We,{postId:t,closeModal:a,goToHome:!0}):r.a.createElement("span",{className:"danger",onClick:function(){c.push("/report/".concat(t))}},"Report"),!n&&r.a.createElement("span",{onClick:function(){a(),c.push("/p/".concat(t))}},"Go to Post"),i&&r.a.createElement(Je,{postId:t,closeModal:a,isMarkResolved:o,post:l}))},$e=c.e.div(Ke(),(function(e){return e.theme.white}),(function(e){return e.theme.borderColor}),(function(e){return e.theme.secondaryColor}),(function(e){return e.theme.borderColor})),Qe=function(e){var n,t,o,l,c=e.post,s=w(""),u=Object(L.f)(),m=Object(a.useContext)(V).theme,p=Object(a.useState)(!1),h=Object(d.a)(p,2),f=h[0],g=h[1],v=Object(a.useState)([]),x=Object(d.a)(v,2),y=x[0],j=x[1],C=Object(a.useState)(c.likesCount),O=Object(d.a)(C,2),k=O[0],N=O[1];return r.a.createElement($e,null,r.a.createElement("div",{className:"post-header-wrapper"},r.a.createElement("div",{className:"post-header"},c.resolved&&r.a.createElement(ue,null),r.a.createElement(G,{className:"pointer",src:null===(n=c.user)||void 0===n?void 0:n.avatar,alt:"avatar",onClick:function(){var e;return u.push("/".concat(null===(e=c.user)||void 0===e?void 0:e.username))}}),c.isPrivate&&r.a.createElement(Ee,{fill:m.primaryColor,transform:"scale(1.2)",onClick:function(){return i.b.success("This is a private complaint")}}),r.a.createElement("h3",{className:"pointer",onClick:function(){var e;return u.push("/".concat(null===(e=c.user)||void 0===e?void 0:e.username))}},null===(t=c.user)||void 0===t?void 0:t.username)),f&&r.a.createElement(Pe,null,r.a.createElement(Ze,{isMine:c.isMine,postId:c._id,closeModal:function(){g(!1)},resolved:c.resolved})),r.a.createElement(me,{theme:m,onClick:function(){return g(!0)}})),c.files[0]?r.a.createElement("img",{className:"post-img",src:c.files[0],alt:"post-img"}):r.a.createElement("img",{className:"post-img-inverted",src:"https://kkleap.github.io/assets/loaderi.gif",alt:"post-img"}),r.a.createElement("div",{className:"post-actions"},r.a.createElement(Fe,{isLiked:c.isLiked,postId:c._id,incLikes:function(){return N(k+1)},decLikes:function(){return N(k-1)}}),r.a.createElement(le,{theme:m,onClick:function(){return u.push("/p/".concat(c._id))}}),r.a.createElement(ze.CopyToClipboard,{text:"see this complaint post by ".concat(c.user.username,". Open the link ").concat(window.location.href),onCopy:function(){return i.b.success("Link copied to clipboard")}},r.a.createElement(te,{theme:m})),r.a.createElement(Me,{isSaved:c.isSaved,postId:c._id})),r.a.createElement("div",{className:"likes-caption-comments"},0!==k&&r.a.createElement("span",{className:"likes bold",style:{cursor:"pointer"},onClick:function(){return u.push("/p/".concat(c._id))}},k," ",k>1?"likes":"like"),r.a.createElement("p",null,r.a.createElement("span",{onClick:function(){var e;return u.push("/".concat(null===(e=c.user)||void 0===e?void 0:e.username))},className:"pointer username bold"},null===(o=c.user)||void 0===o?void 0:o.username),c.caption),c.commentsCount>2&&r.a.createElement("span",{onClick:function(){return u.push("/p/".concat(c._id))},className:"view-comments"},"View all ",c.commentsCount," comments"),null===(l=c.comments)||void 0===l?void 0:l.slice(0,2).map((function(e){return r.a.createElement(Ue,{key:e._id,hideavatar:!0,comment:e})})),y.map((function(e){return r.a.createElement(Ue,{key:e._id,hideavatar:!0,comment:e})})),r.a.createElement("span",{className:"secondary"},b(null===c||void 0===c?void 0:c.createdAt)," ago")),r.a.createElement("div",{className:"add-comment"},r.a.createElement("textarea",{columns:"3",placeholder:"Add a Comment",value:s.value,onChange:s.onChange,onKeyDown:function(e){13===e.keyCode&&(e.preventDefault(),E("/complain/".concat(c._id,"/comments"),{body:{text:s.value}}).then((function(e){return j([].concat(Object(Se.a)(y),[e.data]))})).catch((function(e){e.logout&&nn()})),s.setValue(""))}})))};function Xe(){var e=Object(s.a)(["\n  @media screen and (max-width: 1040px) {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n"]);return Xe=function(){return e},e}var en=c.e.div(Xe()),nn=function(){localStorage.clear(),window.location.reload()},tn=function(){var e=Object(a.useContext)(y).setUser,n=Object(a.useContext)(He),t=n.feed,o=n.setFeed,l=Object(a.useState)(!0),c=Object(d.a)(l,2),s=c[0],u=c[1];return Object(a.useEffect)((function(){E("/user/feed").then((function(e){o(e.data),u(!1)})).catch((function(e){console.log(e),i.b.error("Unable to load feed"),e.logout&&nn()}))}),[o,e]),s?r.a.createElement(Ce,null):r.a.createElement(en,null,t.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"home"},t.map((function(e){return r.a.createElement(Qe,{key:e._id,post:e})}))),r.a.createElement(ee,null)," "):r.a.createElement(Ne,null))};function an(){var e=Object(s.a)(["\n  padding: 0.4rem 0.6rem;\n  background: ",";\n  color: ",";\n  border: 1px solid ",';\n  font-family: "Fira Sans", sans-serif;\n  font-size: 1rem;\n  border-radius: ',";\n"]);return an=function(){return e},e}var rn=c.e.input(an(),(function(e){return e.theme.inputBg}),(function(e){return e.theme.primaryColor}),(function(e){return e.theme.borderColor}),(function(e){return e.theme.borderRadius})),on=function(){var e=w(""),n=Object(a.useState)([]),t=Object(d.a)(n,2),o=t[0],l=t[1];return r.a.createElement(rn,{type:"text",value:e.value,onKeyDown:function(n){13===n.keyCode&&E("/user/search/".concat(e.value)).then((function(e){l(e.data),console.log(o)})).catch((function(e){e.logout&&nn()}))},onChange:e.onChange,placeholder:"Search"})};function ln(){var e=Object(s.a)(["\n  position: fixed;\n  top: 0;\n  width: 100%;\n  background-color: ",";\n  border-bottom: 1px solid ",";\n  padding: 1rem 0;\n  z-index: 10;\n  .nav-logo {\n    position: relative;\n    top: 6px;\n  }\n  svg{\n    fill:","\n  }\n  nav {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin: 0 auto;\n    width: 930px;\n  }\n  ul {\n    display: flex;\n    position: relative;\n    top: 3px;\n    list-style-type: none;\n  }\n  li {\n    margin-left: 1rem;\n  }\n  .nav-logo{\n    width:200px;\n  }\n  @media screen and (max-width: 970px) {\n    nav {\n      width: 90%;\n    }\n  }\n  @media screen and (max-width: 670px) {\n    input {\n      display: none;\n    }\n    ul{\n      position:fixed;\n      top:calc(100% - 40px);\n      background-color: ",";\n      border-top: 1px solid ",";\n      justify-content:space-between;\n      width:100%;\n      padding:2px 5px;\n      left:0;\n      height:40px;\n    }    \n      \n    \n    .nav-logo{\n      width:200px;\n      margin:auto;\n    }\n  }\n"]);return ln=function(){return e},e}var cn=c.e.div(ln(),(function(e){return e.theme.white}),(function(e){return e.theme.borderColor}),(function(e){return e.theme.primaryColor}),(function(e){return e.theme.white}),(function(e){return e.theme.borderColor})),sn=function(){var e=Object(a.useContext)(y).user,n=Object(a.useContext)(V).theme;return r.a.createElement(cn,null,r.a.createElement("nav",null,r.a.createElement(P.b,{to:"/"},r.a.createElement("img",{className:"nav-logo",src:O.a,alt:"logo"})),r.a.createElement(on,null),r.a.createElement("ul",{className:"navlink",style:{display:"flex",alignItems:"center"}},r.a.createElement("li",null,r.a.createElement(P.b,{to:"/"},r.a.createElement(ne,{activeclassname:"active",theme:n}))),r.a.createElement("li",null,r.a.createElement(P.b,{to:"/accounts/new"},r.a.createElement(be,{activeclassname:"active",theme:n}))),r.a.createElement("li",null,r.a.createElement(P.b,{to:"/highlight"},r.a.createElement(oe,{activeclassname:"active",theme:n}))),r.a.createElement("li",null,r.a.createElement(P.b,{to:"/accounts/notifications"},r.a.createElement(re,{activeclassname:"active",theme:n}))),r.a.createElement("li",null,r.a.createElement(P.b,{to:"/".concat(e.username)},r.a.createElement("img",{style:{width:"24px",height:"24px",objectFit:"cover",borderRadius:"12px"},src:e.avatar,alt:"avatar"}))))))};function un(){var e=Object(s.a)(["\n  width: 930px;\n  margin: 6.5rem auto;\n  margin-bottom: 4rem;\n  @media screen and (max-width: 930px) {\n    width: 90%;\n  }\n  @media screen and (max-width: 800px) {\n    width: 95%;\n  }\n  @media screen and (max-width: 530px) {\n    font-size: 0.9rem;\n  }\n"]);return un=function(){return e},e}var mn=c.e.div(un());function dn(){var e=Object(s.a)(["\n\tmargin-top: 1rem;\n\tcursor: pointer;\n\tdisplay: grid;\n\tgrid-template-columns: repeat(3, 1fr);\n\tgrid-gap: 1.5rem;\n\timg {\n\t\tborder-radius: 4px;\n\t\tbox-shadow: 0 1px 0 rgba(0, 0, 0, 0.2);\n\t\twidth: 300px;\n\t\theight: 300px;\n\t\tobject-fit: cover;\n\t}\n\t.container-overlay {\n\t\tposition: relative;\n\t}\n\t.container-overlay:hover .overlay {\n\t\tdisplay: block;\n\t}\n\t.overlay {\n\t\tborder-radius: 4px;\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tbottom: 0;\n\t\tbackground-color: rgba(0, 0, 0, 0.6);\n\t\twidth: 300px;\n\t\theight: 300px;\n\t\tz-index: 4;\n\t\tdisplay: none;\n\t}\n\t.overlay-content {\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\theight: 100%;\n\t\tcolor: ",";\n\t\tfont-weight: 500;\n\t\tfont-size: 1.1rem;\n\t}\n\tsvg {\n\t\tfill: ",";\n\t\tposition: relative;\n\t\ttop: 4px;\n\t}\n\tspan {\n\t\tdisplay: flex;\n\t\tdisplay: block;\n\t\talign-items: center;\n\t\tpadding-right: 0.5rem;\n\t}\n\tspan:first-child {\n\t\tmargin-right: 1rem;\n\t}\n\t@media screen and (max-width: 1000px) {\n\t\timg, .overlay {\n\t\twidth: 233px;\n\t\theight: 233px;\n\t}\n\t@media screen and (max-width: 800px) {\n\t\timg, .overlay {\n\t\twidth: 200px;\n\t\theight: 200px;\n\t}\n\t@media screen and (max-width: 700px) {\n\t\tgrid-template-columns: 1fr 1fr;\n\t\timg, .overlay {\n\t\t\theight: 240px;\n\t\t\twidth: 100%;\n\t}\n\t@media screen and (max-width: 500px) {\n\t\tgrid-gap: 1rem;\n\t\timg, .overlay {\n\t\t\theight: 200px;\n\t\t\twidth: 100%;\n\t}\n\t@media screen and (max-width: 400px) {\n\t\timg, .overlay {\n\t\t\tbackground: rgba(0, 0, 0, 0) linear-gradient(-90deg, rgb(18, 18, 18) 0%, rgb(22, 22, 22) 50%, rgb(18, 18, 18) 100%) repeat scroll 0% 0% / 400% 400%;\n\t\t\theight: 170px;\n\t\t\twidth: 100%;\n\t}\n\t}\n"]);return dn=function(){return e},e}var pn=c.e.div(dn(),(function(e){return e.theme.primaryColor}),(function(e){return e.theme.primaryColor})),hn=function(e){var n=e.posts,t=Object(L.f)(),o=Object(a.useContext)(V).theme;return r.a.createElement(pn,null,null===n||void 0===n?void 0:n.map((function(e){return r.a.createElement("div",{key:e._id,className:"container-overlay",onClick:function(){return t.push("/p/".concat(e._id))}},r.a.createElement("img",{src:e.files[0]||"https://kkleap.github.io/assets/loaderi.gif",alt:"post"}),r.a.createElement("div",{className:"overlay"},r.a.createElement("div",{className:"overlay-content"},r.a.createElement("span",{style:{color:"white !important"}},r.a.createElement(ae,{theme:o})," ",e.likesCount),r.a.createElement("span",{style:{color:"white !important"}},r.a.createElement(le,{theme:o})," ",e.commentsCount))))})))};function fn(){var e=Object(s.a)([" \n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1rem;\n  padding-right: 2rem;\n  font-size: 0.9rem;\n  width: 350px;\n  img {\n    width: 40px;\n    object-fit: cover;\n    height: 40px;\n    border-radius: 20px;\n    margin-right: 1rem;\n  }\n  .profile-info {\n    display: flex;\n  }\n  span {\n    color: ",";\n  }\n  button {\n    font-size: 0.9rem;\n    position: relative;\n    top: -10px;\n    color: "," !important;\n  }\n  @media screen and (max-width: 480px) {\n    width: 340px;\n  }\n"]);return fn=function(){return e},e}function gn(){var e=Object(s.a)(["\n  display: flex;\n  align-items: center;\n  font-size: 1.1rem;\n  margin-bottom: 2rem;\n  .avatar {\n    width: 180px;\n    height: 180px;\n    object-fit: cover;\n    border-radius: 90px;\n    margin-right: 2rem;\n  }\n  .profile-meta {\n    display: flex;\n    align-items: baseline;\n    margin-bottom: 1rem;\n  }\n  .profile-meta h2 {\n    position: relative;\n    top: 3px;\n  }\n  .profile-stats {\n    display: flex;\n    margin-bottom: 1rem;\n  }\n  .options svg {\n    position: relative;\n    top: 7px;\n    margin-left: 1rem;\n  }\n  span {\n    padding-right: 1rem;\n  }\n  a {\n    color: ",";\n  }\n  button{\n    color: ",";\n  }\n  @media screen and (max-width: 645px) {\n    font-size: 1rem;\n    .bio,\n    .profile-stats {\n      display: none;\n    }\n    .avatar {\n      width: 140px;\n      height: 140px;\n    }\n    .profile-meta {\n      flex-direction: column;\n    }\n    button {\n      margin-left: 0;\n    }\n    .bio-mobile {\n      margin: 1rem 0;\n      display: block;\n    }\n  }\n  svg{\n    fill: "," !important;\n  }\n  @media screen and (max-width: 420px) {\n    font-size: 0.9rem;\n    .avatar {\n      width: 100px;\n      height: 100px;\n    }\n  }\n"]);return gn=function(){return e},e}function vn(){var e=Object(s.a)(["\n  margin: 1rem 0;\n  font-size: 1rem;\n  padding-left: 1rem;\n  .mobile-profile-stats span {\n    padding-right: 1rem;\n  }\n  .mobile-bio,\n  .mobile-profile-stats {\n    display: none;\n  }\n  button{\n    color:"," !important;\n  }\n  @media screen and (max-width: 645px) {\n    .mobile-bio {\n      display: block;\n    }\n    .mobile-profile-stats {\n      display: block;\n      margin-bottom: 0.4rem;\n    }\n  }\n  a {\n    color: ",";\n  }\n"]);return vn=function(){return e},e}var bn=c.e.div(vn(),(function(e){return e.theme.primaryColor}),(function(e){return e.theme.blue})),En=c.e.div(gn(),(function(e){return e.theme.blue}),(function(e){return e.theme.primaryColor}),(function(e){return e.theme.primaryColor})),xn={display:"flex",alignItems:"center",justifyContent:"space-between",borderBottom:"1px solid #DBDBDB",padding:"1rem"},wn=c.e.div(fn(),(function(e){return e.theme.secondaryColor}),(function(e){return e.theme.primaryColor})),yn=function(e){var n=e.loggedInUser,t=e.users,o=e.closeModal,l=e.title,i=Object(L.f)(),c=Object(a.useContext)(V).theme;return r.a.createElement("div",{style:{maxHeight:"400px",overflowY:"auto"}},r.a.createElement("div",{style:xn},r.a.createElement("h3",null,l),r.a.createElement(ge,{onClick:o,theme:c})),t.map((function(e){return r.a.createElement(wn,{key:e._id},r.a.createElement("div",{className:"profile-info"},r.a.createElement("img",{className:"pointer",onClick:function(){o(),i.push("/".concat(e.username))},src:e.avatar,alt:"avatar"}),r.a.createElement("div",{className:"user-info"},r.a.createElement("h3",{className:"pointer",onClick:function(){o(),i.push("/".concat(e.username))}},e.username),r.a.createElement("span",null,e.fullname))),r.a.createElement(W,{isFollowing:e.isFollowing,userId:e._id,myId:n._id}))})))},jn=function(e){var n=e.profile,t=Object(L.f)(),o=Object(a.useContext)(y),l=o.user,c=o.setUser,s=Object(a.useContext)(V).theme,u=Object(a.useState)(!1),m=Object(d.a)(u,2),p=m[0],h=m[1],f=Object(a.useState)(!1),g=Object(d.a)(f,2),v=g[0],b=g[1],E=function(){h(!1),b(!1)},x=Object(a.useState)(0),w=Object(d.a)(x,2),j=w[0],C=w[1];return Object(a.useEffect)((function(){return C(null===n||void 0===n?void 0:n.followerCount)}),[n]),r.a.createElement(r.a.Fragment,null,r.a.createElement(En,null,r.a.createElement("img",{className:"avatar",src:null===n||void 0===n?void 0:n.avatar,alt:"avatar"}),r.a.createElement("div",{className:"profile-info"},r.a.createElement("div",{className:"profile-meta"},r.a.createElement("h2",null,null===n||void 0===n?void 0:n.username),(null===n||void 0===n?void 0:n.isMe)?r.a.createElement("div",{className:"options"},r.a.createElement(Y,{secondary:!0,onClick:function(){return t.push("/accounts/edit")}},"Edit Profile"),r.a.createElement(fe,{fill:s.primaryColor,onClick:function(){c(null),localStorage.clear(),i.b.success("You are logged out")}})):r.a.createElement(W,{isFollowing:null===n||void 0===n?void 0:n.isFollowing,incFollowers:function(){return C(j+1)},decFollowers:function(){return C(j-1)},userId:null===n||void 0===n?void 0:n._id,myId:l._id})),r.a.createElement("div",{className:"profile-stats"},r.a.createElement("span",null,null===n||void 0===n?void 0:n.postCount," posts"),r.a.createElement("span",{className:"pointer",onClick:function(){return h(!0)}},j," followers"),r.a.createElement("span",{className:"pointer",onClick:function(){return b(!0)}},null===n||void 0===n?void 0:n.followingCount," following"),p&&(null===n||void 0===n?void 0:n.followers.length)>0&&r.a.createElement(Pe,null,r.a.createElement(yn,{loggedInUser:l,users:null===n||void 0===n?void 0:n.followers,title:"Followers",closeModal:E})),v&&(null===n||void 0===n?void 0:n.following.length)>0&&r.a.createElement(Pe,null,r.a.createElement(yn,{loggedInUser:l,users:null===n||void 0===n?void 0:n.following,title:"Following",closeModal:E}))),r.a.createElement("div",{className:"bio"},r.a.createElement("span",{className:"bold"},null===n||void 0===n?void 0:n.fullname),r.a.createElement("p",null,null===n||void 0===n?void 0:n.bio),r.a.createElement("a",{href:null===n||void 0===n?void 0:n.website,target:"_blank",rel:"noopener noreferrer"},null===n||void 0===n?void 0:n.website)))),r.a.createElement(bn,null,r.a.createElement("div",{className:"mobile-profile-stats"},r.a.createElement("span",null,null===n||void 0===n?void 0:n.postCount," posts"),r.a.createElement("span",{className:"pointer",onClick:function(){return h(!0)}},j," followers"),r.a.createElement("span",{className:"pointer",onClick:function(){return b(!0)}},null===n||void 0===n?void 0:n.followingCount," following"),p&&(null===n||void 0===n?void 0:n.followers.length)>0&&r.a.createElement(Pe,null,r.a.createElement(yn,{loggedInUser:l,users:null===n||void 0===n?void 0:n.followers,title:"Followers",closeModal:E})),v&&(null===n||void 0===n?void 0:n.following.length)>0&&r.a.createElement(Pe,null,r.a.createElement(yn,{loggedInUser:l,users:null===n||void 0===n?void 0:n.following,title:"Following",closeModal:E}))),r.a.createElement("div",{className:"mobile-bio"},r.a.createElement("span",{className:"bold"},null===n||void 0===n?void 0:n.fullname),r.a.createElement("p",null,null===n||void 0===n?void 0:n.bio),r.a.createElement("a",{href:null===n||void 0===n?void 0:n.website,target:"_blank",rel:"noopener noreferrer"},null===n||void 0===n?void 0:n.website))))};function Cn(){var e=Object(s.a)(["\n  margin: auto;\n  margin-top: 4rem;\n  width: 450px;\n  text-align: center;\n  p {\n    padding-top: 0.3rem;\n  }\n  svg {\n    height: 50px;\n    width: 50px;\n    margin-bottom: 1rem;\n    fill: "," !important;\n  }\n  @media screen and (max-width: 500px) {\n    svg {\n      height: 35px;\n      width: 35px;\n      \n    }\n    width: 350px;\n  }\n"]);return Cn=function(){return e},e}var On=c.e.div(Cn(),(function(e){return e.theme.primaryColor})),kn=function(e){var n=e.icon,t=e.title,o=e.text,l=Object(a.useContext)(c.a).theme;return r.a.createElement(On,null,"bookmark"===n&&r.a.createElement(ie,{theme:l}),"post"===n&&r.a.createElement(de,{theme:l}),"tagmark"===n&&r.a.createElement(he,{theme:l}),r.a.createElement("h2",null,t),r.a.createElement("p",null,o))};function Nn(){var e=Object(s.a)(["\n  .dashboard-tab {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin: 1.4rem 0;\n  }\n  .dashboard-tab div {\n    display: flex;\n    cursor: pointer;\n    margin-right: 3rem;\n  }\n  .dashboard-tab span {\n    padding-left: 0.3rem;\n  }\n  .dashboard-tab svg {\n    height: 24px;\n    width: 24px;\n    fill: "," !important;\n  }\n  hr {\n    border: 0.5px solid ",";\n  }\n"]);return Nn=function(){return e},e}var Sn=c.e.div(Nn(),(function(e){return e.theme.primaryColor}),(function(e){return e.theme.borderColor})),zn=function(){var e,n,t,o,l=Object(a.useState)("POSTS"),i=Object(d.a)(l,2),c=i[0],s=i[1],u=Object(a.useState)("Error in getting data"),m=Object(d.a)(u,2),p=m[0],h=m[1],f=Object(L.g)().username,g=Object(a.useState)({}),v=Object(d.a)(g,2),b=v[0],x=v[1],w=Object(a.useState)(!0),y=Object(d.a)(w,2),j=y[0],C=y[1],O=Object(a.useState)(!1),k=Object(d.a)(O,2),N=k[0],S=k[1];return Object(a.useEffect)((function(){window.scrollTo(0,0),E("/user/".concat(f)).then((function(e){C(!1),S(!1),x(e.data)})).catch((function(e){h(e.message),S(!0)}))}),[f]),!N&&j?r.a.createElement(Ce,null):N?r.a.createElement(kn,{title:"Sorry, this page isn't available",text:p}):r.a.createElement(Sn,null,r.a.createElement(jn,{profile:b}),r.a.createElement("hr",null),r.a.createElement("div",{className:"dashboard-tab"},r.a.createElement("div",{style:{fontWeight:"POSTS"===c?"500":""},onClick:function(){return s("POSTS")}},r.a.createElement(de,null),r.a.createElement("span",null,"Posts")),r.a.createElement("div",{style:{fontWeight:"SAVED"===c?"500":""},onClick:function(){return s("SAVED")}},b.isMe?r.a.createElement(r.a.Fragment,null,r.a.createElement(pe,null),r.a.createElement("span",null,"Saved")):r.a.createElement(r.a.Fragment,null,r.a.createElement(he,null),r.a.createElement("span",null,"Tagged")))),"POSTS"===c&&((null===b||void 0===b?void 0:b.isMe)?r.a.createElement(r.a.Fragment,null,0===(null===b||void 0===b||null===(e=b.posts)||void 0===e?void 0:e.length)?r.a.createElement(kn,{title:"Posts",text:"Once you start making new complain posts, they'll appear here",icon:"post"}):r.a.createElement(hn,{posts:null===b||void 0===b?void 0:b.posts})):r.a.createElement(r.a.Fragment,null,0===(null===b||void 0===b||null===(n=b.posts)||void 0===n?void 0:n.length)?r.a.createElement(kn,{title:"Posts",text:"This user has not posted any complain yet",icon:"post"}):r.a.createElement(hn,{posts:null===b||void 0===b?void 0:b.posts}))),"SAVED"===c&&((null===b||void 0===b?void 0:b.isMe)?r.a.createElement(r.a.Fragment,null,0===(null===b||void 0===b||null===(t=b.savedComplaints)||void 0===t?void 0:t.length)?r.a.createElement(kn,{title:"Saved",text:"Save complaints that you want to see again",icon:"bookmark"}):r.a.createElement(hn,{posts:null===b||void 0===b?void 0:b.savedComplaints})):r.a.createElement(r.a.Fragment,null,0===(null===b||void 0===b||null===(o=b.taggedComplaints)||void 0===o?void 0:o.length)?r.a.createElement(kn,{title:"Tagged",text:"This user was not tagged in any complain",icon:"tagmark"}):r.a.createElement(hn,{posts:null===b||void 0===b?void 0:b.taggedComplaints}))))},Fn=function(){var e=Object(a.useState)(!0),n=Object(d.a)(e,2),t=n[0],o=n[1],l=Object(a.useState)([]),i=Object(d.a)(l,2),c=i[0],s=i[1];return Object(a.useEffect)((function(){E("/complain/highlight").then((function(e){s(e.data),o(!1)})).catch((function(e){e.logout&&nn()}))}),[]),t?r.a.createElement(Ce,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{marginTop:"2.3rem"}},r.a.createElement("h2",null,"Trending complaints"),r.a.createElement(hn,{posts:c})))};function Mn(){var e=Object(s.a)(["\n  width: 100%;\n  margin:auto;\n  cursor:pointer;\n  display:flex;\n  flex-wrap:nowrap;\n  background: ",";\n  border: 1px solid ",";\n  margin-bottom: 8px;\n  .notice-avatar {\n    height:100%;\n    width:50px;\n    padding-left:5px;\n    align-self: center;\n  }\n \n  .pointer{\n      cursor:pointer;\n  }\n  .notice-body {\n    word-break:break-word;\n    display:flex;\n    flex-direction:column;\n    justify-content:start;    \n    padding: 8px;\n  }\n  .notice-footer{\n      padding-left:7px;\n      color:gray;\n  }\n  .middle{\n      font-size:13px;\n  }\n  .notice-body-text{\n      width:100%;\n      float:left;      \n      padding-left:7px;\n      word-break:break-word;\n  }\n  \n  @media screen and (max-width: 690px) {\n    width: 100%;\n  }\n"]);return Mn=function(){return e},e}var In=c.e.div(Mn(),(function(e){return e.theme.white}),(function(e){return e.theme.borderColor})),Tn=function(e){var n=e.notice,t=Object(L.f)();return r.a.createElement(In,{onClick:function(){return t.push("".concat(n.url))}},r.a.createElement("div",{className:"notice-avatar"},r.a.createElement(G,{className:"pointer",src:(null===n||void 0===n?void 0:n.avatar)||"https://kkleap.github.io/assets/default_noti.jpg",alt:"noti"})),r.a.createElement("div",{className:"notice-body"},r.a.createElement("div",{className:"notice-body-text"},r.a.createElement("p",{className:"middle"},n.notifiedMessage)),r.a.createElement("div",{className:"notice-footer"},b(n.createdAt))))};function Bn(){var e=Object(s.a)(["\nwidth:60%;\nmargin:auto;\nmargin-top:3.5rem !important;\ndisplay:flex;\nflex-wrap:wrap;\nflex-direction:column;\npadding:10px 8px;\n\n.notice,.suggestions{\n    width:100%;    \n    background:#222;\n    margin:15px 2px;\n    padding-left:5px;\n}\n.suggestion-component,.suggestion-body,.suggestions-usercard{\n    width:100%;\n    padding:2px;\n}\n.suggestions-usercard{\n    display:flex;\n    flex-wrap:nowrap;\n}\n.userdetail{\n    display:flex;\n    width:80%;\n    cursor:pointer;\n    flex-wrap:nowrap;\n    \n}\n.followrapper *{\n    margin:auto;\n    margin-right:16px;\n}\n@media screen and (max-width: 690px) {\n    width: 100%;\n    padding:10px 0px;\n  }\n\n\n"]);return Bn=function(){return e},e}var _n=c.e.div(Bn()),Pn=function(){var e=Object(a.useState)([]),n=Object(d.a)(e,2),t=n[0],o=n[1],l=Object(a.useState)([]),c=Object(d.a)(l,2),s=c[0],u=c[1],m=Object(a.useState)(!0),p=Object(d.a)(m,2),h=p[0],f=p[1],g=Object(L.f)();return Object(a.useEffect)((function(){E("/user/notice",{method:"POST"}).then((function(e){var n,t,a,r;(o(e.notices),console.log(e.notices),localStorage.getItem("lastnoticekey")==(null===(n=e.notices[0])||void 0===n||null===(t=n._id)||void 0===t?void 0:t.toString()))||(localStorage.setItem("lastnoticekey",null===(a=e.notices[0])||void 0===a||null===(r=a._id)||void 0===r?void 0:r.toString()),i.b.success("You have new notices"));f(!1)})).catch((function(e){e.logout&&nn(),i.b.error(e.message)})),E("/user").then((function(e){u(e.data.filter((function(e){return!e.isFollowing})))}))}),[o,f,u]),h?r.a.createElement(Ce,null):r.a.createElement(_n,null,t.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"notice"},r.a.createElement("h3",{style:{borderBottom:"1px solid white",padding:"20px 10px"}},"Notifications"),t.map((function(e){return r.a.createElement(Tn,{key:e._id,notice:e})}))),r.a.createElement("div",{className:"suggestions"}," ",s.length>0?r.a.createElement("div",{className:"suggestion-component"},r.a.createElement("h3",{style:{borderBottom:"1px solid white",paddingBottom:"4px"}},"Suggestions for You"),s.map((function(e){return r.a.createElement("div",{key:e._id,className:"suggestion-body"},r.a.createElement("div",{key:e.username,className:"suggestions-usercard"},r.a.createElement("div",{className:"userdetail",onClick:function(){return g.push("/".concat(e.username))}},r.a.createElement(G,{style:{alignSelf:"center"},src:e.avatar,alt:"avatar"}),r.a.createElement("div",{className:"user-info",style:{display:"flex",flexWrap:"wrap",flexDirection:"column",justifyContent:"start"}},r.a.createElement("h3",{style:{width:"100%"}},e.username),r.a.createElement("span",{style:{width:"100%",color:"gray"}},e.fullname))),r.a.createElement("div",{style:{width:"calc(100% - 100px)",display:"flex"},className:"followrapper"},r.a.createElement(W,{isFollowing:e.isFollowing,userId:e._id}))))}))):r.a.createElement("h3",{style:{padding:"20px 10px"}},"Right now ,there is no suggestions for you."))):r.a.createElement("div",{class:"suggestions"}," ",s.length>0?r.a.createElement("div",{className:"suggestion-component"},r.a.createElement("h3",{style:{borderBottom:"1px solid white",paddingBottom:"4px"}},"Suggestions for You"),s.map((function(e){return r.a.createElement("div",{key:e._id,className:"suggestion-body"},r.a.createElement("div",{key:e.username,className:"suggestions-usercard"},r.a.createElement("div",{className:"userdetail",onClick:function(){return g.push("/".concat(e.username))}},r.a.createElement(G,{style:{alignSelf:"center"},src:e.avatar,alt:"avatar"}),r.a.createElement("div",{className:"user-info",style:{display:"flex",flexWrap:"wrap",flexDirection:"column",justifyContent:"start"}},r.a.createElement("h3",{style:{width:"100%"}},e.username),r.a.createElement("span",{style:{width:"100%",color:"gray"}},e.fullname))),r.a.createElement("div",{style:{width:"calc(100% - 100px)",display:"flex"},className:"followrapper"},r.a.createElement(W,{isFollowing:e.isFollowing,userId:e._id}))))}))):r.a.createElement("h3",{style:{padding:"20px 10px"}},"Right now ,there is no suggestions for you.")))};function Ln(){var e=Object(s.a)(["\n  display: grid;\n  grid-template-columns: 60% 1fr;\n  .post-info {\n    border: 1px solid ",";\n  }\n  .post-header-wrapper {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    padding: 1rem;\n    border-bottom: 1px solid ",';\n  }\n  svg[aria-label="saved"]{\n    fill: '," !important;\n  }\n  \n  .post-header {\n    display: flex;\n    align-items: center;\n  }\n  .post-img {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n    \n  }\n  .post-actions-stats {\n    padding: 1rem;\n    padding-bottom: 0.1rem;\n  }\n  .post-actions {\n    display: flex;\n    align-items: center;\n    padding-bottom: 0.5rem;\n  }\n  .post-actions svg:last-child {\n    margin-left: auto;\n  }\n  .comments {\n    border-bottom: 1px solid ",";\n    padding: 1rem;\n    height: 300px;\n    overflow-y: scroll;\n    scrollbar-width: none;\n  }\n  .comments::-webkit-scrollbar {\n    width: 0;\n    height: 0;\n  }\n  svg {\n    margin-right: 1rem;\n    \n  }\n  .post-img-inverted{\n    filter:invert(50%);\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n  textarea {\n    height: 43px;\n    width: 100%;\n    background: ",";\n    border: none;\n    border-top: 1px solid ",';\n    resize: none;\n    padding: 1rem 0 0 1rem;\n    font-size: 1rem;\n    font-family: "Fira Sans", sans-serif;\n  }\n  @media screen and (max-width: 840px) {\n    display: flex;\n    flex-direction: column;\n    \n\n .post-info{\n   display:flex;\n   flex-direction:column;\n }\n .comments {\n  height: 100%;\n  order:5\n}\n.post-actions-state{\n  order:2;\n}\n .secondry{\n   order:3;\n }\n .add-comment{\n   order:4;\n   border:1px solid #3333;\n }\n  }\n']);return Ln=function(){return e},e}var Dn=c.e.div(Ln(),(function(e){return e.theme.borderColor}),(function(e){return e.theme.borderColor}),(function(e){return e.theme.primaryColor}),(function(e){return e.theme.borderColor}),(function(e){return e.theme.bg}),(function(e){return e.theme.borderColor})),Rn=function(){var e,n,t=Object(L.f)(),o=Object(L.g)().postId,l=Object(a.useContext)(V).theme,c=w(""),s=Object(a.useRef)(null),u=Object(a.useState)(!1),m=Object(d.a)(u,2),p=m[0],h=m[1],f=Object(a.useState)(!1),g=Object(d.a)(f,2),v=g[0],x=g[1],y=function(){x(!1),h(!1)},j=Object(a.useState)("The requested post was not found"),C=Object(d.a)(j,2),O=C[0],k=C[1],N=Object(a.useState)(!0),S=Object(d.a)(N,2),z=S[0],F=S[1],M=Object(a.useState)(!1),I=Object(d.a)(M,2),T=I[0],B=I[1],_=Object(a.useState)({}),P=Object(d.a)(_,2),D=P[0],R=P[1],A=Object(a.useState)(0),U=Object(d.a)(A,2),H=U[0],Y=U[1],W=Object(a.useState)([]),J=Object(d.a)(W,2),K=J[0],q=J[1],Z=function(e){var n=e.commentId,t=K.filter((function(e){return e._id!==n}));q(t)};return Object(a.useEffect)((function(){window.scrollTo(0,0),E("/complain/".concat(o)).then((function(e){R(e.data),q(e.data.comments),Y(e.data.likesCount),F(!1),B(!1)})).catch((function(e){e.logout&&nn(),k("This complain post is non-accessible"),B(!0)}))}),[o]),!T&&z?r.a.createElement(Ce,null):T?r.a.createElement(kn,{title:"Sorry, this page isn't available",text:O}):r.a.createElement(Dn,null,D.files[0]?r.a.createElement("img",{className:"post-img",src:D.files[0],alt:"post-img"}):r.a.createElement("img",{className:"post-img-inverted",src:"https://kkleap.github.io/assets/loaderi.gif",alt:"post-img"}),r.a.createElement("div",{className:"post-info"},r.a.createElement("div",{className:"post-header-wrapper"},r.a.createElement("div",{className:"post-header"},D.resolved&&r.a.createElement(ue,null),r.a.createElement(G,{onClick:function(){var e;return t.push("/".concat(null===(e=D.user)||void 0===e?void 0:e.username))},className:"pointer avatar",src:null===(e=D.user)||void 0===e?void 0:e.avatar,alt:"avatar"}),D.isPrivate&&r.a.createElement(Ee,{fill:l.primaryColor,transform:"scale(1.2)",onClick:function(){return i.b.success("This is a private complain")}}),r.a.createElement("h3",{className:"pointer",onClick:function(){var e;return t.push("/".concat(null===(e=D.user)||void 0===e?void 0:e.username))}},null===(n=D.user)||void 0===n?void 0:n.username)),r.a.createElement(me,{theme:l,onClick:function(){return x(!0)}}),v&&r.a.createElement(Pe,null,r.a.createElement(Ze,{postId:D._id,isMine:D.isMine,post:D,hideGotoPost:!0,closeModal:y,resolved:D.resolved})),p&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe,null,r.a.createElement("div",{style:{maxHeight:"400px",overflowY:"auto"}},r.a.createElement("div",{style:xn},r.a.createElement("h3",null,"Liked By"),r.a.createElement(ge,{onClick:y,theme:l})),D.likers.map((function(e){return r.a.createElement(wn,{key:e.id},r.a.createElement("div",{className:"profile-info"},r.a.createElement("img",{className:"pointer",onClick:function(){y(),t.push("/".concat(e.username))},src:e.avatar,alt:"avatar"}),r.a.createElement("div",{className:"user-info"},r.a.createElement("h3",{className:"pointer",onClick:function(){y(),t.push("/".concat(e.username))}},e.username),r.a.createElement("span",null,e.fullname))))})))),r.a.createElement(bn,null,r.a.createElement(Pe,null,r.a.createElement("div",{style:{maxHeight:"400px",overflowY:"auto"}},r.a.createElement("div",{style:xn},r.a.createElement("h3",null,"Liked By"),r.a.createElement(ge,{onClick:y,theme:l})),D.likers.map((function(e){return r.a.createElement(wn,{key:e.id},r.a.createElement("div",{className:"profile-info"},r.a.createElement("img",{className:"pointer",onClick:function(){y(),t.push("/".concat(e.username))},src:e.avatar,alt:"avatar"}),r.a.createElement("div",{className:"user-info"},r.a.createElement("h3",{className:"pointer",onClick:function(){y(),t.push("/".concat(e.username))}},e.username),r.a.createElement("span",null,e.fullname))))}))))))),r.a.createElement("div",{className:"comments"},K.map((function(e){return r.a.createElement(Ue,{key:e._id,postId:D._id,comment:e,commentsStateF:Z})})),r.a.createElement("div",{ref:s})),r.a.createElement("div",{className:"post-actions-stats"},r.a.createElement("div",{className:"post-actions"},r.a.createElement(Fe,{isLiked:null===D||void 0===D?void 0:D.isLiked,postId:null===D||void 0===D?void 0:D._id,incLikes:function(){return Y(H+1)},decLikes:function(){return Y(H-1)}}),r.a.createElement(le,{theme:l}),r.a.createElement(ze.CopyToClipboard,{text:"see this complaint post by ".concat(D.user.username,". Open the link ").concat(window.location.href),onCopy:function(){return i.b.success("Link copied to clipboard")}},r.a.createElement(te,{theme:l})),r.a.createElement(Me,{isSaved:null===D||void 0===D?void 0:D.isSaved,postId:null===D||void 0===D?void 0:D._id})),0!==H&&r.a.createElement("span",{className:"likes bold",style:{cursor:"pointer"},onClick:function(){h(!0)}},H," ",H>1?"likes":"like")),r.a.createElement("span",{style:{display:"block",padding:"0 1rem",paddingBottom:"1rem"},className:"secondary"},b(D.createdAt)," ago"),r.a.createElement("div",{className:"add-comment"},r.a.createElement("textarea",{columns:"2",placeholder:"Add a Comment",value:c.value,onChange:c.onChange,onKeyDown:function(e){13===e.keyCode&&(e.preventDefault(),E("/complain/".concat(D._id,"/comments"),{body:{text:c.value}}).then((function(e){localStorage.getItem("deleteinst")||(localStorage.setItem("deleteinst",!0),i.b.success("Longpress your any comment to delete it")),e.data.isCommentMine=!0,q([].concat(Object(Se.a)(K),[e.data])),s.current.scrollIntoView({behaviour:"smooth"})})).catch((function(e){e.logout&&nn(),i.b.error(e.message)})),c.setValue(""))}}))))};function Vn(){var e=Object(s.a)(['\n  padding: 1rem;\n  img {\n    cursor: pointer;\n    margin-right: 40px;\n  }\n  .input-group {\n    margin-top: 1.5rem;\n  }\n  .input-group > label {\n    display: inline-block;\n    width: 100px;\n  }\n  input,\n  textarea {\n    padding: 0.4rem 1rem;\n    font-family: "Fira Sans", sans-serif;\n    font-size: 1rem;\n    border-radius: 4px;\n    border: 1px solid ',';\n    width: 350px;\n  }\n  .textarea-group {\n    display: flex;\n  }\n  .change-avatar {\n    display: flex;\n  }\n  input[id="change-avatar"],\n  input[id="change-avatar-link"] {\n    display: none;\n  }\n  span {\n    color: ',";\n    cursor: pointer;\n  }\n  button {\n    margin-top: 1.5rem;\n    margin-left: 6.25rem;\n    margin-bottom: 1rem;\n  }\n  @media screen and (max-width: 550px) {\n    width: 98%;\n    .input-group {\n      display: flex;\n      flex-direction: column;\n    }\n    label {\n      padding-bottom: 0.5rem;\n      font-size: 1rem;\n    }\n    button {\n      margin-left: 0;\n    }\n  }\n  @media screen and (max-width: 430px) {\n    input,\n    textarea {\n      width: 99%;\n    }\n  }\n"]);return Vn=function(){return e},e}var An=c.e.div(Vn(),(function(e){return e.theme.borderColor}),(function(e){return e.theme.blue})),Un=function(){var e=Object(L.f)(),n=Object(a.useContext)(y),t=n.user,o=n.setUser,l=Object(a.useState)(""),c=Object(d.a)(l,2),s=c[0],u=c[1],m=w(t.fullname||""),p=w(t.username||""),h=w(t.bio||""),f=w(t.website||""),g=function(e){e.target.files[0]&&x(e.target.files[0]).then((function(e){return u(e.secure_url)})).catch((function(e){return i.b.error(e.message)}))};return r.a.createElement(An,null,r.a.createElement("form",{onSubmit:function(n){if(n.preventDefault(),!m.value)return i.b.error("The name field should not be empty");if(!p.value)return i.b.error("The username field should not be empty");var a={fullname:m.value,username:p.value,bio:h.value,website:f.value,avatar:s||t.avatar};E("/user",{method:"PUT",body:a}).then((function(n){o(n.data),localStorage.setItem("userdetail",JSON.stringify(n.data)),e.push("/".concat(a.username||t.username))})).catch((function(e){return i.b.error(e.message)}))}},r.a.createElement("div",{className:"input-group change-avatar"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"change-avatar"},r.a.createElement(G,{lg:!0,src:s||t.avatar,alt:"avatar"})),r.a.createElement("input",{id:"change-avatar",accept:"image/*",type:"file",onChange:g})),r.a.createElement("div",{className:"change-avatar-meta"},r.a.createElement("h2",null,t.username),r.a.createElement("label",{htmlFor:"change-avatar-link"},r.a.createElement("span",null,"Change Profile Photo")),r.a.createElement("input",{id:"change-avatar-link",accept:"image/*",type:"file",onChange:g}))),r.a.createElement("div",{className:"input-group"},r.a.createElement("label",{className:"bold"},"Name"),r.a.createElement("input",{type:"text",value:m.value,onChange:m.onChange})),r.a.createElement("div",{className:"input-group"},r.a.createElement("label",{className:"bold"},"Username"),r.a.createElement("input",{type:"text",value:p.value,onChange:p.onChange})),r.a.createElement("div",{className:"input-group"},r.a.createElement("label",{className:"bold"},"Website"),r.a.createElement("input",{type:"text",value:f.value,onChange:f.onChange})),r.a.createElement("div",{className:"input-group textarea-group"},r.a.createElement("label",{className:"bold"},"Bio"),r.a.createElement("textarea",{cols:"10",value:h.value,onChange:h.onChange})),r.a.createElement(Y,null,"Submit")))};function Hn(){var e=Object(s.a)(["\n  width: 930px;\n  border: 1px solid ",";\n  display: grid;\n  background: ",";\n  .tabs {\n    border-right: 1px solid ",";\n    padding: 1rem;\n  }\n  .profile-form-container {\n    display: flex;\n    justify-content: center;\n  }\n  @media screen and (max-width: 970px) {\n    width: 90%;\n  }\n  @media screen and (max-width: 700px) {\n    width: 98%;\n  }\n  @media screen and (max-width: 550px) {\n    width: 99%;\n  }\n"]);return Hn=function(){return e},e}var Yn=c.e.div(Hn(),(function(e){return e.theme.borderColor}),(function(e){return e.theme.white}),(function(e){return e.theme.borderColor})),Wn=function(){return r.a.createElement(Yn,null,r.a.createElement("div",{className:"profile-form-container"},r.a.createElement(Un,null)))};function Jn(){var e=Object(s.a)(["\n  .newpost-header {\n    display: flex;\n    justify-content: space-between;\n    padding: 0.5rem 1rem;\n  }\n  .newpost-header h3:first-child {\n    color: ",";\n  }\n  h3 {\n    cursor: pointer;\n  }\n  .newpost-header h3:last-child {\n    color: ",';\n  }\n  textarea {\n    height: 100%;\n    width: 100%;\n    font-family: "Fira Sans", sans-serif;\n    font-size: 1rem;\n    padding: 0.5rem 1rem;\n    border: none;\n    resize: none;\n  }\n  svg{   \n    fill:',";\n    \n    margin:auto;\n  }\n  .element {\n    padding: 15px;\n    align-self: center;\n    margin-left: -65px;\n    margin-top: 17px;\n  }\n  .input-group {\n    margin-top: 1.5rem;\n  }\n  input,textarea{\n    background: ",";\n    color:",';\n  }\n  label{\n    transform:scale(2);\n    margin-top:10px;\n  }\n  .modal-content {\n    width: 700px;\n  }\n  .input{\n    padding: 0.4rem 1rem;\n    font-family: "Fira Sans", sans-serif;\n    font-size: 1rem;\n    border-radius: 4px;\n    border: 1px solid ',';\n  }\n  .wrapper{\n    padding:1rem;\n  }\n  \n  input[type="checkbox"]{\n    background:',";\n    margin-right:15px;\n  }\n  \n  @media screen and (max-width: 780px) {\n    .modal-content {\n      width: 90vw;\n    }\n  }\n"]);return Jn=function(){return e},e}var Kn=c.e.div(Jn(),(function(e){return e.theme.red}),(function(e){return e.theme.blue}),(function(e){return e.theme.primaryColor}),(function(e){return e.theme.inputBg}),(function(e){return e.theme.primaryColor}),(function(e){return e.theme.borderColor}),(function(e){return e.theme.inputBg})),Gn=function(){var e=Object(a.useContext)(He),n=e.feed,t=e.setFeed,o=Object(L.f)(),l=Object(a.useState)(!1),c=Object(d.a)(l,2),s=c[0],u=c[1],m=Object(a.useState)(!0),p=Object(d.a)(m,2),h=p[0],f=p[1],g=Object(a.useState)(!1),v=Object(d.a)(g,2),b=v[0],y=v[1],j=w(""),C=w(""),O=Object(a.useState)([]),k=Object(d.a)(O,2),N=k[0],S=k[1],z=Object(a.useState)([]),F=Object(d.a)(z,2),M=F[0],I=F[1],T=Object(a.useContext)(V).theme,B=Object(a.useState)(""),_=Object(d.a)(B,2),P=_[0],D=_[1],R=Object(a.useState)(""),A=Object(d.a)(R,2),U=A[0],H=A[1],W=function(){if(s&&M.includes(C.value)||!s&&N.includes(C.value))return i.b.error("Already added to tag list");E("/user/".concat(C.value),{method:"POST"}).then((function(){C.setValue(""),i.b.success("Added to tag"),s?I([].concat(Object(Se.a)(M),[C.value])):S([].concat(Object(Se.a)(N),[C.value]))})).catch((function(e){e&&i.b.error("this username not accessible.Check your connection and type correct username")}))};return r.a.createElement(Kn,null,r.a.createElement("input",{id:"upload-post",type:"file",onChange:function(e){if(!e.target.files[0]||"image"!=e.target.files[0].type.split("/")[0])return i.b.error("Kindly upload a pic preferably of format jpeg,jpg ,png or webp");i.b.success("uploading your pic..."),x(e.target.files[0]).then((function(e){D(!0),H(e.secure_url)})).catch((function(e){i.b.error("error in uploading pic")}))},accept:"image/*",style:{display:"none"}}),h&&r.a.createElement(Pe,null,r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"newpost-header"},r.a.createElement("h3",{onClick:function(){o.push("/")}},"Cancel"),!b&&r.a.createElement("h3",{onClick:function(){return P?y(!0):i.b.error("Kindly add a pic")}},"Next"),b&&r.a.createElement("h3",{onClick:function(){if(!j.value)return i.b.error("Please add detail of your complain");if(!U)return i.b.error("please Add a pic");if(s&&0==M.length)return i.b.error("Please add tags of those who should see this complain");f(!1);var e={caption:j.value,files:[U],isPrivate:s,tags:s?M:N,accessibility:s?M:[]};E("/complain",{body:e}).then((function(e){var a=e.data;a.isLiked=!1,a.isSaved=!1,a.isMine=!0,t([a].concat(Object(Se.a)(n))),window.scrollTo(0,0),o.push("/"),i.b.success("Your complain has been submitted successfully")})).catch((function(e){i.b.error(e.message),e.logout&&nn()}))}},"Post")),P?r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"input-group"},"Add details",r.a.createElement("br",null),r.a.createElement("textarea",{className:"input",placeholder:"Mandatory field",value:j.value,onChange:j.onChange})),r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{type:"checkbox",onChange:function(){C.setValue(""),u(!s)}}),"Make your complaint private"),s&&r.a.createElement("div",{className:"input-group"},"Add username who should see this",r.a.createElement("br",null)," ",r.a.createElement("input",{type:"text",className:"input",placeholder:"Mandatory field",value:C.value,onChange:C.onChange}),r.a.createElement(Y,{className:"btn",onClick:W},"Add")),!s&&r.a.createElement("div",{className:"input-group"},"Tag people",r.a.createElement("br",null)," ",r.a.createElement("input",{type:"text",className:"input",placeholder:"optional field",value:C.value,onChange:C.onChange}),r.a.createElement(Y,{className:"btn",onClick:W},"Add"))):r.a.createElement("div",{style:{padding:"10px",width:"100%",display:"flex",justifyContent:"center",paddingTop:"15px"}},r.a.createElement("label",{htmlFor:"upload-post"},r.a.createElement(be,{theme:T})),r.a.createElement("div",{className:"element"},"Add photo")),r.a.createElement("div",null))))};function qn(){var e=Object(s.a)(["\n  width: 930px;\n  border: 1px solid ",";\n  display: grid;\n  background: ",";\n  .tabs {\n    border-right: 1px solid ",";\n    padding: 1rem;\n  }\n  .report-form-container {\n    display: flex;\n    justify-content: center;\n  }\n  @media screen and (max-width: 970px) {\n    width: 90%;\n  }\n  @media screen and (max-width: 700px) {\n    width: 98%;\n  }\n  @media screen and (max-width: 550px) {\n    width: 99%;\n  }\n"]);return qn=function(){return e},e}var Zn=c.e.div(qn(),(function(e){return e.theme.borderColor}),(function(e){return e.theme.white}),(function(e){return e.theme.borderColor})),$n=function(){var e=Object(L.f)(),n=Object(L.g)().postId,t=w("");return r.a.createElement(r.a.Fragment,null,r.a.createElement(Zn,null,r.a.createElement("div",{className:"report-form-container"},r.a.createElement(An,null,r.a.createElement("form",{onSubmit:function(a){if(a.preventDefault(),t.value.length>150){var r={reportText:t.value};E("/complain/report/".concat(n),{body:r}).then((function(){i.b.success("Thanks!We will take necessary action!"),e.push("/")})).catch((function(e){e.logout&&nn(),i.b.error(e.message)}))}else i.b.error("Minimum character in report must be 150")}},r.a.createElement("div",{className:"input-group textarea-group",style:{height:"100px"}},r.a.createElement("label",{className:"bold"},"Report"),r.a.createElement("textarea",{cols:"10",value:t.value,onChange:t.onChange})),r.a.createElement(Y,null,"Submit"))))))},Qn=function(){return r.a.createElement(P.a,null,r.a.createElement(a.Suspense,{fallback:Ce},r.a.createElement(sn,null),r.a.createElement(mn,null,r.a.createElement(L.c,null,r.a.createElement(L.a,{path:"/highlight",component:Fn}),r.a.createElement(L.a,{path:"/accounts/new",component:Gn}),r.a.createElement(L.a,{path:"/accounts/notifications",component:Pn}),r.a.createElement(L.a,{path:"/p/:postId",component:Rn}),r.a.createElement(L.a,{path:"/report/:postId",component:$n}),r.a.createElement(L.a,{path:"/accounts/edit",component:Wn}),r.a.createElement(L.a,{path:"/:username",component:zn}),r.a.createElement(L.a,{path:"/",component:tn})))))},Xn=function(){var e=Object(a.useContext)(y).user,n=Object(a.useContext)(V).theme;return r.a.createElement(c.b,{theme:n},r.a.createElement(m,null),r.a.createElement(i.a,{autoClose:3e3,closeButton:!1}),e?r.a.createElement(Qn,null):r.a.createElement(_,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(j,null,r.a.createElement(Ye,null,r.a.createElement(A,null,r.a.createElement(Xn,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[35,1,2]]]);
//# sourceMappingURL=main.4536154b.chunk.js.map